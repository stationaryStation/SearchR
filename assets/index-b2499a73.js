var xl=Object.defineProperty;var Cl=(t,e,n)=>e in t?xl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Is=(t,e,n)=>(Cl(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function F(){}function $l(t){return t&&typeof t=="object"&&typeof t.then=="function"}function au(t){return t()}function Zo(){return Object.create(null)}function Gt(t){t.forEach(au)}function uu(t){return typeof t=="function"}function Kt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Ml(t){return Object.keys(t).length===0}function Ll(t,...e){if(t==null)return F;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function et(t,e,n){t.$$.on_destroy.push(Ll(e,n))}function z(t,e){t.appendChild(e)}function Z(t,e,n){t.insertBefore(e,n||null)}function W(t){t.parentNode&&t.parentNode.removeChild(t)}function Ci(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function Y(t){return document.createElement(t)}function Xe(t){return document.createTextNode(t)}function me(){return Xe(" ")}function Mn(){return Xe("")}function St(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function Nl(t){return function(e){return e.preventDefault(),t.call(this,e)}}function Bt(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Pl(t){return Array.from(t.childNodes)}function fo(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function si(t,e){t.value=e??""}function yn(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e){r.selected=!0;return}}t.selectedIndex=-1}function Po(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}let pr;function lt(t){pr=t}function Ul(){if(!pr)throw new Error("Function called outside component initialization");return pr}const fr=[],Yo=[],li=[],Qo=[],Dl=Promise.resolve();let ho=!1;function Fl(){ho||(ho=!0,Dl.then(Uo))}function wn(t){li.push(t)}const Bs=new Set;let oi=0;function Uo(){const t=pr;do{for(;oi<fr.length;){const e=fr[oi];oi++,lt(e),Il(e.$$)}for(lt(null),fr.length=0,oi=0;Yo.length;)Yo.pop()();for(let e=0;e<li.length;e+=1){const n=li[e];Bs.has(n)||(Bs.add(n),n())}li.length=0}while(fr.length);for(;Qo.length;)Qo.pop()();ho=!1,Bs.clear(),lt(t)}function Il(t){if(t.fragment!==null){t.update(),Gt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(wn)}}const ci=new Set;let Dt;function pi(){Dt={r:0,c:[],p:Dt}}function vi(){Dt.r||Gt(Dt.c),Dt=Dt.p}function de(t,e){t&&t.i&&(ci.delete(t),t.i(e))}function xe(t,e,n,r){if(t&&t.o){if(ci.has(t))return;ci.add(t),Dt.c.push(()=>{ci.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function po(t,e){const n=e.token={};function r(i,s,o,a){if(e.token!==n)return;e.resolved=a;let f=e.ctx;o!==void 0&&(f=f.slice(),f[o]=a);const l=i&&(e.current=i)(f);let u=!1;e.block&&(e.blocks?e.blocks.forEach((d,h)=>{h!==s&&d&&(pi(),xe(d,1,1,()=>{e.blocks[h]===d&&(e.blocks[h]=null)}),vi())}):e.block.d(1),l.c(),de(l,1),l.m(e.mount(),e.anchor),u=!0),e.block=l,e.blocks&&(e.blocks[s]=l),u&&Uo()}if($l(t)){const i=Ul();if(t.then(s=>{lt(i),r(e.then,1,e.value,s),lt(null)},s=>{if(lt(i),r(e.catch,2,e.error,s),lt(null),!e.hasCatch)throw s}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}}function lu(t,e,n){const r=e.slice(),{resolved:i}=t;t.current===t.then&&(r[t.value]=i),t.current===t.catch&&(r[t.error]=i),t.block.p(r,n)}function vr(t){t&&t.c()}function On(t,e,n,r){const{fragment:i,after_update:s}=t.$$;i&&i.m(e,n),r||wn(()=>{const o=t.$$.on_mount.map(au).filter(uu);t.$$.on_destroy?t.$$.on_destroy.push(...o):Gt(o),t.$$.on_mount=[]}),s.forEach(wn)}function An(t,e){const n=t.$$;n.fragment!==null&&(Gt(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Bl(t,e){t.$$.dirty[0]===-1&&(fr.push(t),Fl(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ln(t,e,n,r,i,s,o,a=[-1]){const f=pr;lt(t);const l=t.$$={fragment:null,ctx:[],props:s,update:F,not_equal:i,bound:Zo(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:Zo(),dirty:a,skip_bound:!1,root:e.target||f.$$.root};o&&o(l.root);let u=!1;if(l.ctx=n?n(t,e.props||{},(d,h,...m)=>{const A=m.length?m[0]:h;return l.ctx&&i(l.ctx[d],l.ctx[d]=A)&&(!l.skip_bound&&l.bound[d]&&l.bound[d](A),u&&Bl(t,d)),h}):[],l.update(),u=!0,Gt(l.before_update),l.fragment=r?r(l.ctx):!1,e.target){if(e.hydrate){const d=Pl(e.target);l.fragment&&l.fragment.l(d),d.forEach(W)}else l.fragment&&l.fragment.c();e.intro&&de(t.$$.fragment),On(t,e.target,e.anchor,e.customElement),Uo()}lt(f)}class Nn{$destroy(){An(this,1),this.$destroy=F}$on(e,n){if(!uu(n))return F;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!Ml(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function q(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw new Error(typeof t=="number"?"[MobX] minified error nr: "+t+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+t)}var ql={};function cu(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:ql}var Vl=Object.assign,_i=Object.getOwnPropertyDescriptor,ft=Object.defineProperty,$i=Object.prototype,vo=[];Object.freeze(vo);var fu={};Object.freeze(fu);var Gl=typeof Proxy<"u",Kl=Object.toString();function hu(){Gl||q("Proxy not available")}function du(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var vn=function(){};function Ve(t){return typeof t=="function"}function qt(t){var e=typeof t;switch(e){case"string":case"symbol":case"number":return!0}return!1}function Mi(t){return t!==null&&typeof t=="object"}function dt(t){if(!Mi(t))return!1;var e=Object.getPrototypeOf(t);if(e==null)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n.toString()===Kl}function pu(t){var e=t==null?void 0:t.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function Or(t,e,n){ft(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function vu(t,e,n){ft(t,e,{enumerable:!1,writable:!1,configurable:!0,value:n})}function zt(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(r){return Mi(r)&&r[n]===!0}}function Pn(t){return t instanceof Map}function Ar(t){return t instanceof Set}var _u=typeof Object.getOwnPropertySymbols<"u";function zl(t){var e=Object.keys(t);if(!_u)return e;var n=Object.getOwnPropertySymbols(t);return n.length?[].concat(e,n.filter(function(r){return $i.propertyIsEnumerable.call(t,r)})):e}var Sn=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:_u?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function gu(t){return t===null?null:typeof t=="object"?""+t:t}function ht(t,e){return $i.hasOwnProperty.call(t,e)}var Hl=Object.getOwnPropertyDescriptors||function(e){var n={};return Sn(e).forEach(function(r){n[r]=_i(e,r)}),n};function ea(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Do(t,e,n){return e&&ea(t.prototype,e),n&&ea(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function En(){return En=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},En.apply(this,arguments)}function mu(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,_o(t,e)}function _o(t,e){return _o=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},_o(t,e)}function qs(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wl(t,e){if(t){if(typeof t=="string")return ta(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ta(t,e)}}function ta(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _n(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=Wl(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ze=Symbol("mobx-stored-annotations");function Ye(t){function e(n,r){Sr(n,r,t)}return Object.assign(e,t)}function Sr(t,e,n){ht(t,Ze)||Or(t,Ze,En({},t[Ze])),nc(n)||(t[Ze][e]=n)}function kl(t){return ht(t,Ze)||Or(t,Ze,En({},t[Ze])),t[Ze]}var L=Symbol("mobx administration"),Er=function(){function t(n){n===void 0&&(n="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=B.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var e=t.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},e.reportObserved=function(){return Fu(this)},e.reportChanged=function(){be(),Iu(this),ye()},e.toString=function(){return this.name_},t}(),Fo=zt("Atom",Er);function bu(t,e,n){e===void 0&&(e=vn),n===void 0&&(n=vn);var r=new Er(t);return e!==vn&&Qc(r,e),n!==vn&&Wu(r,n),r}function Jl(t,e){return t===e}function Xl(t,e){return Ko(t,e)}function Zl(t,e){return Ko(t,e,1)}function Yl(t,e){return Object.is?Object.is(t,e):t===e?t!==0||1/t===1/e:t!==t&&e!==e}var gi={identity:Jl,structural:Xl,default:Yl,shallow:Zl};function Tn(t,e,n){return Zu(t)?t:Array.isArray(t)?re.array(t,{name:n}):dt(t)?re.object(t,void 0,{name:n}):Pn(t)?re.map(t,{name:n}):Ar(t)?re.set(t,{name:n}):typeof t=="function"&&!qo(t)&&!wi(t)?pu(t)?mr(t):gr(n,t):t}function Ql(t,e,n){if(t==null||br(t)||Ui(t)||Wt(t)||Dn(t))return t;if(Array.isArray(t))return re.array(t,{name:n,deep:!1});if(dt(t))return re.object(t,void 0,{name:n,deep:!1});if(Pn(t))return re.map(t,{name:n,deep:!1});if(Ar(t))return re.set(t,{name:n,deep:!1})}function Li(t){return t}function ec(t,e){return Ko(t,e)?e:t}var tc="override";function nc(t){return t.annotationType_===tc}function Tr(t,e){return{annotationType_:t,options_:e,make_:rc,extend_:ic}}function rc(t,e,n,r){var i;if((i=this.options_)!=null&&i.bound)return this.extend_(t,e,n,!1)===null?0:1;if(r===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if(qo(n.value))return 1;var s=yu(t,this,e,n,!1);return ft(r,e,s),2}function ic(t,e,n,r){var i=yu(t,this,e,n);return t.defineProperty_(e,i,r)}function sc(t,e,n,r){e.annotationType_,r.value}function yu(t,e,n,r,i){var s,o,a,f,l,u,d;i===void 0&&(i=E.safeDescriptors),sc(t,e,n,r);var h=r.value;if((s=e.options_)!=null&&s.bound){var m;h=h.bind((m=t.proxy_)!=null?m:t.target_)}return{value:jn((o=(a=e.options_)==null?void 0:a.name)!=null?o:n.toString(),h,(f=(l=e.options_)==null?void 0:l.autoAction)!=null?f:!1,(u=e.options_)!=null&&u.bound?(d=t.proxy_)!=null?d:t.target_:void 0),configurable:i?t.isPlainObject_:!0,enumerable:!1,writable:!i}}function wu(t,e){return{annotationType_:t,options_:e,make_:oc,extend_:ac}}function oc(t,e,n,r){var i;if(r===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if((i=this.options_)!=null&&i.bound&&(!ht(t.target_,e)||!wi(t.target_[e]))&&this.extend_(t,e,n,!1)===null)return 0;if(wi(n.value))return 1;var s=Ou(t,this,e,n,!1,!1);return ft(r,e,s),2}function ac(t,e,n,r){var i,s=Ou(t,this,e,n,(i=this.options_)==null?void 0:i.bound);return t.defineProperty_(e,s,r)}function uc(t,e,n,r){e.annotationType_,r.value}function Ou(t,e,n,r,i,s){s===void 0&&(s=E.safeDescriptors),uc(t,e,n,r);var o=r.value;if(wi(o)||(o=mr(o)),i){var a;o=o.bind((a=t.proxy_)!=null?a:t.target_),o.isMobXFlow=!0}return{value:o,configurable:s?t.isPlainObject_:!0,enumerable:!1,writable:!s}}function Io(t,e){return{annotationType_:t,options_:e,make_:lc,extend_:cc}}function lc(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function cc(t,e,n,r){return fc(t,this,e,n),t.defineComputedProperty_(e,En({},this.options_,{get:n.get,set:n.set}),r)}function fc(t,e,n,r){e.annotationType_,r.get}function Ni(t,e){return{annotationType_:t,options_:e,make_:hc,extend_:dc}}function hc(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function dc(t,e,n,r){var i,s;return pc(t,this),t.defineObservableProperty_(e,n.value,(i=(s=this.options_)==null?void 0:s.enhancer)!=null?i:Tn,r)}function pc(t,e,n,r){e.annotationType_}var vc="true",_c=Au();function Au(t){return{annotationType_:vc,options_:t,make_:gc,extend_:mc}}function gc(t,e,n,r){var i,s;if(n.get)return K.make_(t,e,n,r);if(n.set){var o=jn(e.toString(),n.set);return r===t.target_?t.defineProperty_(e,{configurable:E.safeDescriptors?t.isPlainObject_:!0,set:o})===null?0:2:(ft(r,e,{configurable:!0,set:o}),2)}if(r!==t.target_&&typeof n.value=="function"){var a;if(pu(n.value)){var f,l=(f=this.options_)!=null&&f.autoBind?mr.bound:mr;return l.make_(t,e,n,r)}var u=(a=this.options_)!=null&&a.autoBind?gr.bound:gr;return u.make_(t,e,n,r)}var d=((i=this.options_)==null?void 0:i.deep)===!1?re.ref:re;if(typeof n.value=="function"&&(s=this.options_)!=null&&s.autoBind){var h;n.value=n.value.bind((h=t.proxy_)!=null?h:t.target_)}return d.make_(t,e,n,r)}function mc(t,e,n,r){var i,s;if(n.get)return K.extend_(t,e,n,r);if(n.set)return t.defineProperty_(e,{configurable:E.safeDescriptors?t.isPlainObject_:!0,set:jn(e.toString(),n.set)},r);if(typeof n.value=="function"&&(i=this.options_)!=null&&i.autoBind){var o;n.value=n.value.bind((o=t.proxy_)!=null?o:t.target_)}var a=((s=this.options_)==null?void 0:s.deep)===!1?re.ref:re;return a.extend_(t,e,n,r)}var bc="observable",yc="observable.ref",wc="observable.shallow",Oc="observable.struct",Su={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(Su);function ai(t){return t||Su}var Eu=Ni(bc),Ac=Ni(yc,{enhancer:Li}),Sc=Ni(wc,{enhancer:Ql}),Ec=Ni(Oc,{enhancer:ec}),Tu=Ye(Eu);function ui(t){return t.deep===!0?Tn:t.deep===!1?Li:jc(t.defaultDecorator)}function Tc(t){var e;return t?(e=t.defaultDecorator)!=null?e:Au(t):void 0}function jc(t){var e,n;return t&&(e=(n=t.options_)==null?void 0:n.enhancer)!=null?e:Tn}function ju(t,e,n){if(qt(e)){Sr(t,e,Eu);return}return Zu(t)?t:dt(t)?re.object(t,e,n):Array.isArray(t)?re.array(t,e):Pn(t)?re.map(t,e):Ar(t)?re.set(t,e):typeof t=="object"&&t!==null?t:re.box(t,e)}Object.assign(ju,Tu);var Rc={box:function(e,n){var r=ai(n);return new mn(e,ui(r),r.name,!0,r.equals)},array:function(e,n){var r=ai(n);return(E.useProxies===!1||r.proxy===!1?yf:ff)(e,ui(r),r.name)},map:function(e,n){var r=ai(n);return new $r(e,ui(r),r.name)},set:function(e,n){var r=ai(n);return new Di(e,ui(r),r.name)},object:function(e,n,r){return Ju(E.useProxies===!1||(r==null?void 0:r.proxy)===!1?Mr({},r):af({},r),e,n)},ref:Ye(Ac),shallow:Ye(Sc),deep:Tu,struct:Ye(Ec)},re=Vl(ju,Rc),Ru="computed",xc="computed.struct",xu=Io(Ru),Cc=Io(xc,{equals:gi.structural}),K=function(e,n){if(qt(n))return Sr(e,n,xu);if(dt(e))return Ye(Io(Ru,e));var r=dt(n)?n:{};return r.get=e,r.name||(r.name=e.name||""),new _r(r)};Object.assign(K,xu);K.struct=Ye(Cc);var na,ra,mi=0,$c=1,Mc=(na=(ra=_i(function(){},"name"))==null?void 0:ra.configurable)!=null?na:!1,ia={value:"action",configurable:!0,writable:!1,enumerable:!1};function jn(t,e,n,r){n===void 0&&(n=!1);function i(){return Cu(t,n,e,r||this,arguments)}return i.isMobxAction=!0,Mc&&(ia.value=t,Object.defineProperty(i,"name",ia)),i}function Cu(t,e,n,r,i){var s=Lc(t,e);try{return n.apply(r,i)}catch(o){throw s.error_=o,o}finally{Nc(s)}}function Lc(t,e,n,r){var i=!1,s=0,o=E.trackingDerivation,a=!e||!o;be();var f=E.allowStateChanges;a&&(Un(),f=jr(!0));var l=Bo(!0),u={runAsAction_:a,prevDerivation_:o,prevAllowStateChanges_:f,prevAllowStateReads_:l,notifySpy_:i,startTime_:s,actionId_:$c++,parentActionId_:mi};return mi=u.actionId_,u}function Nc(t){mi!==t.actionId_&&q(30),mi=t.parentActionId_,t.error_!==void 0&&(E.suppressReactionErrors=!0),Rr(t.prevAllowStateChanges_),hr(t.prevAllowStateReads_),ye(),t.runAsAction_&&Et(t.prevDerivation_),E.suppressReactionErrors=!1}function Pc(t,e){var n=jr(t);try{return e()}finally{Rr(n)}}function jr(t){var e=E.allowStateChanges;return E.allowStateChanges=t,e}function Rr(t){E.allowStateChanges=t}var $u;$u=Symbol.toPrimitive;var mn=function(t){mu(e,t);function e(r,i,s,o,a){var f;return s===void 0&&(s="ObservableValue"),a===void 0&&(a=gi.default),f=t.call(this,s)||this,f.enhancer=void 0,f.name_=void 0,f.equals=void 0,f.hasUnreportedChange_=!1,f.interceptors_=void 0,f.changeListeners_=void 0,f.value_=void 0,f.dehancer=void 0,f.enhancer=i,f.name_=s,f.equals=a,f.value_=i(r,void 0,s),f}var n=e.prototype;return n.dehanceValue=function(i){return this.dehancer!==void 0?this.dehancer(i):i},n.set=function(i){this.value_,i=this.prepareNewValue_(i),i!==E.UNCHANGED&&this.setNewValue_(i)},n.prepareNewValue_=function(i){if(Ce(this)){var s=$e(this,{object:this,type:Qe,newValue:i});if(!s)return E.UNCHANGED;i=s.newValue}return i=this.enhancer(i,this.value_,this.name_),this.equals(this.value_,i)?E.UNCHANGED:i},n.setNewValue_=function(i){var s=this.value_;this.value_=i,this.reportChanged(),Be(this)&&qe(this,{type:Qe,object:this,newValue:i,oldValue:s})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(i){return xr(this,i)},n.observe_=function(i,s){return s&&i({observableKind:"value",debugObjectName:this.name_,object:this,type:Qe,newValue:this.value_,oldValue:void 0}),Cr(this,i)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return gu(this.get())},n[$u]=function(){return this.valueOf()},e}(Er),Mu;Mu=Symbol.toPrimitive;var _r=function(){function t(n){this.dependenciesState_=B.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=B.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new bi(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Ft.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||q(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=jn("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?gi.structural:gi.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var e=t.prototype;return e.onBecomeStale_=function(){Ic(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},e.get=function(){if(this.isComputing_&&q(32,this.name_,this.derivation),E.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)go(this)&&(this.warnAboutUntrackedRead_(),be(),this.value_=this.computeValue_(!1),ye());else if(Fu(this),go(this)){var r=E.trackingContext;this.keepAlive_&&!r&&(E.trackingContext=this),this.trackAndCompute()&&Fc(this),E.trackingContext=r}var i=this.value_;if(fi(i))throw i.cause;return i},e.set=function(r){if(this.setter_){this.isRunningSetter_&&q(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter_=!1}}else q(34,this.name_)},e.trackAndCompute=function(){var r=this.value_,i=this.dependenciesState_===B.NOT_TRACKING_,s=this.computeValue_(!0),o=i||fi(r)||fi(s)||!this.equals_(r,s);return o&&(this.value_=s),o},e.computeValue_=function(r){this.isComputing_=!0;var i=jr(!1),s;if(r)s=Lu(this,this.derivation,this.scope_);else if(E.disableErrorBoundaries===!0)s=this.derivation.call(this.scope_);else try{s=this.derivation.call(this.scope_)}catch(o){s=new bi(o)}return Rr(i),this.isComputing_=!1,s},e.suspend_=function(){this.keepAlive_||(mo(this),this.value_=void 0)},e.observe_=function(r,i){var s=this,o=!0,a=void 0;return kc(function(){var f=s.get();if(!o||i){var l=Un();r({observableKind:"computed",debugObjectName:s.name_,type:Qe,object:s,newValue:f,oldValue:a}),Et(l)}o=!1,a=f})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return gu(this.get())},e[Mu]=function(){return this.valueOf()},t}(),Pi=zt("ComputedValue",_r),B;(function(t){t[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_"})(B||(B={}));var Ft;(function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"})(Ft||(Ft={}));var bi=function(e){this.cause=void 0,this.cause=e};function fi(t){return t instanceof bi}function go(t){switch(t.dependenciesState_){case B.UP_TO_DATE_:return!1;case B.NOT_TRACKING_:case B.STALE_:return!0;case B.POSSIBLY_STALE_:{for(var e=Bo(!0),n=Un(),r=t.observing_,i=r.length,s=0;s<i;s++){var o=r[s];if(Pi(o)){if(E.disableErrorBoundaries)o.get();else try{o.get()}catch{return Et(n),hr(e),!0}if(t.dependenciesState_===B.STALE_)return Et(n),hr(e),!0}}return Pu(t),Et(n),hr(e),!1}}}function Lu(t,e,n){var r=Bo(!0);Pu(t),t.newObserving_=new Array(t.observing_.length+100),t.unboundDepsCount_=0,t.runId_=++E.runId;var i=E.trackingDerivation;E.trackingDerivation=t,E.inBatch++;var s;if(E.disableErrorBoundaries===!0)s=e.call(n);else try{s=e.call(n)}catch(o){s=new bi(o)}return E.inBatch--,E.trackingDerivation=i,Uc(t),hr(r),s}function Uc(t){for(var e=t.observing_,n=t.observing_=t.newObserving_,r=B.UP_TO_DATE_,i=0,s=t.unboundDepsCount_,o=0;o<s;o++){var a=n[o];a.diffValue_===0&&(a.diffValue_=1,i!==o&&(n[i]=a),i++),a.dependenciesState_>r&&(r=a.dependenciesState_)}for(n.length=i,t.newObserving_=null,s=e.length;s--;){var f=e[s];f.diffValue_===0&&Uu(f,t),f.diffValue_=0}for(;i--;){var l=n[i];l.diffValue_===1&&(l.diffValue_=0,Dc(l,t))}r!==B.UP_TO_DATE_&&(t.dependenciesState_=r,t.onBecomeStale_())}function mo(t){var e=t.observing_;t.observing_=[];for(var n=e.length;n--;)Uu(e[n],t);t.dependenciesState_=B.NOT_TRACKING_}function Nu(t){var e=Un();try{return t()}finally{Et(e)}}function Un(){var t=E.trackingDerivation;return E.trackingDerivation=null,t}function Et(t){E.trackingDerivation=t}function Bo(t){var e=E.allowStateReads;return E.allowStateReads=t,e}function hr(t){E.allowStateReads=t}function Pu(t){if(t.dependenciesState_!==B.UP_TO_DATE_){t.dependenciesState_=B.UP_TO_DATE_;for(var e=t.observing_,n=e.length;n--;)e[n].lowestObserverState_=B.UP_TO_DATE_}}var Vs=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Gs=!0,E=function(){var t=cu();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(Gs=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==new Vs().version&&(Gs=!1),Gs?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new Vs):(setTimeout(function(){q(35)},1),new Vs)}();function Dc(t,e){t.observers_.add(e),t.lowestObserverState_>e.dependenciesState_&&(t.lowestObserverState_=e.dependenciesState_)}function Uu(t,e){t.observers_.delete(e),t.observers_.size===0&&Du(t)}function Du(t){t.isPendingUnobservation_===!1&&(t.isPendingUnobservation_=!0,E.pendingUnobservations.push(t))}function be(){E.inBatch++}function ye(){if(--E.inBatch===0){Bu();for(var t=E.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation_=!1,n.observers_.size===0&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof _r&&n.suspend_())}E.pendingUnobservations=[]}}function Fu(t){var e=E.trackingDerivation;return e!==null?(e.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=t,!t.isBeingObserved_&&E.trackingContext&&(t.isBeingObserved_=!0,t.onBO())),t.isBeingObserved_):(t.observers_.size===0&&E.inBatch>0&&Du(t),!1)}function Iu(t){t.lowestObserverState_!==B.STALE_&&(t.lowestObserverState_=B.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===B.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=B.STALE_}))}function Fc(t){t.lowestObserverState_!==B.STALE_&&(t.lowestObserverState_=B.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===B.POSSIBLY_STALE_?e.dependenciesState_=B.STALE_:e.dependenciesState_===B.UP_TO_DATE_&&(t.lowestObserverState_=B.UP_TO_DATE_)}))}function Ic(t){t.lowestObserverState_===B.UP_TO_DATE_&&(t.lowestObserverState_=B.POSSIBLY_STALE_,t.observers_.forEach(function(e){e.dependenciesState_===B.UP_TO_DATE_&&(e.dependenciesState_=B.POSSIBLY_STALE_,e.onBecomeStale_())}))}var bo=function(){function t(n,r,i,s){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=B.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=Ft.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=i,this.requiresObservable_=s}var e=t.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,E.pendingReactions.push(this),Bu())},e.isScheduled=function(){return this.isScheduled_},e.runReaction_=function(){if(!this.isDisposed_){be(),this.isScheduled_=!1;var r=E.trackingContext;if(E.trackingContext=this,go(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(i){this.reportExceptionInDerivation_(i)}}E.trackingContext=r,ye()}},e.track=function(r){if(!this.isDisposed_){be(),this.isRunning_=!0;var i=E.trackingContext;E.trackingContext=this;var s=Lu(this,r,void 0);E.trackingContext=i,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&mo(this),fi(s)&&this.reportExceptionInDerivation_(s.cause),ye()}},e.reportExceptionInDerivation_=function(r){var i=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(E.disableErrorBoundaries)throw r;var s="[mobx] uncaught error in '"+this+"'";E.suppressReactionErrors||console.error(s,r),E.globalReactionErrorHandlers.forEach(function(o){return o(r,i)})},e.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(be(),mo(this),ye()))},e.getDisposer_=function(){var r=this.dispose.bind(this);return r[L]=this,r},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(r){r===void 0&&(r=!1),rf(this,r)},t}(),Bc=100,qc=function(e){return e()};function Bu(){E.inBatch>0||E.isRunningReactions||qc(Vc)}function Vc(){E.isRunningReactions=!0;for(var t=E.pendingReactions,e=0;t.length>0;){++e===Bc&&(console.error("[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var n=t.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}E.isRunningReactions=!1}var yi=zt("Reaction",bo);function dr(){return!1}function Gc(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var qu="action",Kc="action.bound",Vu="autoAction",zc="autoAction.bound",Gu="<unnamed action>",Ku=Tr(qu),Hc=Tr(Kc,{bound:!0}),zu=Tr(Vu,{autoAction:!0}),Wc=Tr(zc,{autoAction:!0,bound:!0});function Hu(t){var e=function(r,i){if(Ve(r))return jn(r.name||Gu,r,t);if(Ve(i))return jn(r,i,t);if(qt(i))return Sr(r,i,t?zu:Ku);if(qt(r))return Ye(Tr(t?Vu:qu,{name:r,autoAction:t}))};return e}var ee=Hu(!1);Object.assign(ee,Ku);var gr=Hu(!0);Object.assign(gr,zu);ee.bound=Ye(Hc);gr.bound=Ye(Wc);function H(t){return Cu(t.name||Gu,!1,t,this,void 0)}function qo(t){return Ve(t)&&t.isMobxAction===!0}function kc(t,e){var n,r;e===void 0&&(e=fu);var i=(n=(r=e)==null?void 0:r.name)!=null?n:"Autorun",s=!e.scheduler&&!e.delay,o;if(s)o=new bo(i,function(){this.track(l)},e.onError,e.requiresObservable);else{var a=Xc(e),f=!1;o=new bo(i,function(){f||(f=!0,a(function(){f=!1,o.isDisposed_||o.track(l)}))},e.onError,e.requiresObservable)}function l(){t(o)}return o.schedule_(),o.getDisposer_()}var Jc=function(e){return e()};function Xc(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:Jc}var Zc="onBO",Yc="onBUO";function Qc(t,e,n){return ku(Zc,t,e,n)}function Wu(t,e,n){return ku(Yc,t,e,n)}function ku(t,e,n,r){var i=typeof r=="function"?Vt(e,n):Vt(e),s=Ve(r)?r:n,o=t+"L";return i[o]?i[o].add(s):i[o]=new Set([s]),function(){var a=i[o];a&&(a.delete(s),a.size===0&&delete i[o])}}function Ju(t,e,n,r){var i=Hl(e),s=Mr(t,r)[L];be();try{Sn(i).forEach(function(o){s.extend_(o,i[o],n&&o in n?n[o]:!0)})}finally{ye()}return t}var ef=0;function Xu(){this.message="FLOW_CANCELLED"}Xu.prototype=Object.create(Error.prototype);var sa=wu("flow"),tf=wu("flow.bound",{bound:!0}),mr=Object.assign(function(e,n){if(qt(n))return Sr(e,n,sa);var r=e,i=r.name||"<unnamed flow>",s=function(){var a=this,f=arguments,l=++ef,u=ee(i+" - runid: "+l+" - init",r).apply(a,f),d,h=void 0,m=new Promise(function(A,D){var j=0;d=D;function k(T){h=void 0;var b;try{b=ee(i+" - runid: "+l+" - yield "+j++,u.next).call(u,T)}catch(C){return D(C)}P(b)}function I(T){h=void 0;var b;try{b=ee(i+" - runid: "+l+" - yield "+j++,u.throw).call(u,T)}catch(C){return D(C)}P(b)}function P(T){if(Ve(T==null?void 0:T.then)){T.then(P,D);return}return T.done?A(T.value):(h=Promise.resolve(T.value),h.then(k,I))}k(void 0)});return m.cancel=ee(i+" - runid: "+l+" - cancel",function(){try{h&&oa(h);var A=u.return(void 0),D=Promise.resolve(A.value);D.then(vn,vn),oa(D),d(new Xu)}catch(j){d(j)}}),m};return s.isMobXFlow=!0,s},sa);mr.bound=Ye(tf);function oa(t){Ve(t.cancel)&&t.cancel()}function wi(t){return(t==null?void 0:t.isMobXFlow)===!0}function nf(t,e){return t?e!==void 0?br(t)?t[L].values_.has(e):!1:br(t)||!!t[L]||Fo(t)||yi(t)||Pi(t):!1}function Zu(t){return nf(t)}function rf(){q("trace() is not available in production builds");for(var t=!1,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];typeof n[n.length-1]=="boolean"&&(t=n.pop());var i=sf(n);if(!i)return q("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");i.isTracing_===Ft.NONE&&console.log("[mobx.trace] '"+i.name_+"' tracing enabled"),i.isTracing_=t?Ft.BREAK:Ft.LOG}function sf(t){switch(t.length){case 0:return E.trackingDerivation;case 1:return Vt(t[0]);case 2:return Vt(t[0],t[1])}}function ut(t,e){e===void 0&&(e=void 0),be();try{return t.apply(e)}finally{ye()}}function un(t){return t[L]}var of={has:function(e,n){return un(e).has_(n)},get:function(e,n){return un(e).get_(n)},set:function(e,n,r){var i;return qt(n)?(i=un(e).set_(n,r,!0))!=null?i:!0:!1},deleteProperty:function(e,n){var r;return qt(n)?(r=un(e).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(e,n,r){var i;return(i=un(e).defineProperty_(n,r))!=null?i:!0},ownKeys:function(e){return un(e).ownKeys_()},preventExtensions:function(e){q(13)}};function af(t,e){var n,r;return hu(),t=Mr(t,e),(r=(n=t[L]).proxy_)!=null?r:n.proxy_=new Proxy(t,of)}function Ce(t){return t.interceptors_!==void 0&&t.interceptors_.length>0}function xr(t,e){var n=t.interceptors_||(t.interceptors_=[]);return n.push(e),du(function(){var r=n.indexOf(e);r!==-1&&n.splice(r,1)})}function $e(t,e){var n=Un();try{for(var r=[].concat(t.interceptors_||[]),i=0,s=r.length;i<s&&(e=r[i](e),e&&!e.type&&q(14),!!e);i++);return e}finally{Et(n)}}function Be(t){return t.changeListeners_!==void 0&&t.changeListeners_.length>0}function Cr(t,e){var n=t.changeListeners_||(t.changeListeners_=[]);return n.push(e),du(function(){var r=n.indexOf(e);r!==-1&&n.splice(r,1)})}function qe(t,e){var n=Un(),r=t.changeListeners_;if(r){r=r.slice();for(var i=0,s=r.length;i<s;i++)r[i](e);Et(n)}}function uf(t,e,n){var r=Mr(t,n)[L];be();try{var i;(i=e)!=null||(e=kl(t)),Sn(e).forEach(function(s){return r.make_(s,e[s])})}finally{ye()}return t}var Ks=Symbol("mobx-keys");function Ht(t,e,n){if(dt(t))return Ju(t,t,e,n);var r=Mr(t,n)[L];if(!t[Ks]){var i=Object.getPrototypeOf(t),s=new Set([].concat(Sn(t),Sn(i)));s.delete("constructor"),s.delete(L),Or(i,Ks,s)}be();try{t[Ks].forEach(function(o){return r.make_(o,e&&o in e?e[o]:!0)})}finally{ye()}return t}var aa="splice",Qe="update",lf=1e4,cf={get:function(e,n){var r=e[L];return n===L?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):ht(Oi,n)?Oi[n]:e[n]},set:function(e,n,r){var i=e[L];return n==="length"&&i.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?e[n]=r:i.set_(parseInt(n),r),!0},preventExtensions:function(){q(15)}},Vo=function(){function t(n,r,i,s){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=i,this.legacyMode_=s,this.atom_=new Er(n),this.enhancer_=function(o,a){return r(o,a,"ObservableArray[..]")}}var e=t.prototype;return e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},e.intercept_=function(r){return xr(this,r)},e.observe_=function(r,i){return i===void 0&&(i=!1),i&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Cr(this,r)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&q("Out of range: "+r);var i=this.values_.length;if(r!==i)if(r>i){for(var s=new Array(r-i),o=0;o<r-i;o++)s[o]=void 0;this.spliceWithArray_(i,0,s)}else this.spliceWithArray_(r,i-r)},e.updateArrayLength_=function(r,i){r!==this.lastKnownLength_&&q(16),this.lastKnownLength_+=i,this.legacyMode_&&i>0&&ol(r+i+1)},e.spliceWithArray_=function(r,i,s){var o=this;this.atom_;var a=this.values_.length;if(r===void 0?r=0:r>a?r=a:r<0&&(r=Math.max(0,a+r)),arguments.length===1?i=a-r:i==null?i=0:i=Math.max(0,Math.min(i,a-r)),s===void 0&&(s=vo),Ce(this)){var f=$e(this,{object:this.proxy_,type:aa,index:r,removedCount:i,added:s});if(!f)return vo;i=f.removedCount,s=f.added}if(s=s.length===0?s:s.map(function(d){return o.enhancer_(d,void 0)}),this.legacyMode_){var l=s.length-i;this.updateArrayLength_(a,l)}var u=this.spliceItemsIntoValues_(r,i,s);return(i!==0||s.length!==0)&&this.notifyArraySplice_(r,s,u),this.dehanceValues_(u)},e.spliceItemsIntoValues_=function(r,i,s){if(s.length<lf){var o;return(o=this.values_).splice.apply(o,[r,i].concat(s))}else{var a=this.values_.slice(r,r+i),f=this.values_.slice(r+i);this.values_.length+=s.length-i;for(var l=0;l<s.length;l++)this.values_[r+l]=s[l];for(var u=0;u<f.length;u++)this.values_[r+s.length+u]=f[u];return a}},e.notifyArrayChildUpdate_=function(r,i,s){var o=!this.owned_&&dr(),a=Be(this),f=a||o?{observableKind:"array",object:this.proxy_,type:Qe,debugObjectName:this.atom_.name_,index:r,newValue:i,oldValue:s}:null;this.atom_.reportChanged(),a&&qe(this,f)},e.notifyArraySplice_=function(r,i,s){var o=!this.owned_&&dr(),a=Be(this),f=a||o?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:aa,index:r,removed:s,added:i,removedCount:s.length,addedCount:i.length}:null;this.atom_.reportChanged(),a&&qe(this,f)},e.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},e.set_=function(r,i){var s=this.values_;if(this.legacyMode_&&r>s.length&&q(17,r,s.length),r<s.length){this.atom_;var o=s[r];if(Ce(this)){var a=$e(this,{type:Qe,object:this.proxy_,index:r,newValue:i});if(!a)return;i=a.newValue}i=this.enhancer_(i,o);var f=i!==o;f&&(s[r]=i,this.notifyArrayChildUpdate_(r,i,o))}else{for(var l=new Array(r+1-s.length),u=0;u<l.length-1;u++)l[u]=void 0;l[l.length-1]=i,this.spliceWithArray_(s.length,0,l)}},t}();function ff(t,e,n,r){n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),hu();var i=new Vo(n,e,r,!1);vu(i.values_,L,i);var s=new Proxy(i.values_,cf);if(i.proxy_=s,t&&t.length){var o=jr(!0);i.spliceWithArray_(0,0,t),Rr(o)}return s}var Oi={clear:function(){return this.splice(0)},replace:function(e){var n=this[L];return n.spliceWithArray_(0,n.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];var o=this[L];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(e);case 2:return o.spliceWithArray_(e,n)}return o.spliceWithArray_(e,n,i)},spliceWithArray:function(e,n,r){return this[L].spliceWithArray_(e,n,r)},push:function(){for(var e=this[L],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.spliceWithArray_(e.values_.length,0,r),e.values_.length},pop:function(){return this.splice(Math.max(this[L].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[L],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.spliceWithArray_(0,0,r),e.values_.length},reverse:function(){return E.trackingDerivation&&q(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){E.trackingDerivation&&q(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var n=this[L],r=n.dehanceValues_(n.values_).indexOf(e);return r>-1?(this.splice(r,1),!0):!1}};oe("concat",pt);oe("flat",pt);oe("includes",pt);oe("indexOf",pt);oe("join",pt);oe("lastIndexOf",pt);oe("slice",pt);oe("toString",pt);oe("toLocaleString",pt);oe("every",jt);oe("filter",jt);oe("find",jt);oe("findIndex",jt);oe("flatMap",jt);oe("forEach",jt);oe("map",jt);oe("some",jt);oe("reduce",Yu);oe("reduceRight",Yu);function oe(t,e){typeof Array.prototype[t]=="function"&&(Oi[t]=e(t))}function pt(t){return function(){var e=this[L];e.atom_.reportObserved();var n=e.dehanceValues_(e.values_);return n[t].apply(n,arguments)}}function jt(t){return function(e,n){var r=this,i=this[L];i.atom_.reportObserved();var s=i.dehanceValues_(i.values_);return s[t](function(o,a){return e.call(n,o,a,r)})}}function Yu(t){return function(){var e=this,n=this[L];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(s,o,a){return i(s,o,a,e)},r[t].apply(r,arguments)}}var hf=zt("ObservableArrayAdministration",Vo);function Ui(t){return Mi(t)&&hf(t[L])}var Qu,el,df={},wt="add",Ai="delete";Qu=Symbol.iterator;el=Symbol.toStringTag;var $r=function(){function t(n,r,i){var s=this;r===void 0&&(r=Tn),i===void 0&&(i="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[L]=df,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=i,Ve(Map)||q(18),this.keysAtom_=bu("ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,Pc(!0,function(){s.merge(n)})}var e=t.prototype;return e.has_=function(r){return this.data_.has(r)},e.has=function(r){var i=this;if(!E.trackingDerivation)return this.has_(r);var s=this.hasMap_.get(r);if(!s){var o=s=new mn(this.has_(r),Li,"ObservableMap.key?",!1);this.hasMap_.set(r,o),Wu(o,function(){return i.hasMap_.delete(r)})}return s.get()},e.set=function(r,i){var s=this.has_(r);if(Ce(this)){var o=$e(this,{type:s?Qe:wt,object:this,newValue:i,name:r});if(!o)return this;i=o.newValue}return s?this.updateValue_(r,i):this.addValue_(r,i),this},e.delete=function(r){var i=this;if(this.keysAtom_,Ce(this)){var s=$e(this,{type:Ai,object:this,name:r});if(!s)return!1}if(this.has_(r)){var o=dr(),a=Be(this),f=a||o?{observableKind:"map",debugObjectName:this.name_,type:Ai,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return ut(function(){var l;i.keysAtom_.reportChanged(),(l=i.hasMap_.get(r))==null||l.setNewValue_(!1);var u=i.data_.get(r);u.setNewValue_(void 0),i.data_.delete(r)}),a&&qe(this,f),!0}return!1},e.updateValue_=function(r,i){var s=this.data_.get(r);if(i=s.prepareNewValue_(i),i!==E.UNCHANGED){var o=dr(),a=Be(this),f=a||o?{observableKind:"map",debugObjectName:this.name_,type:Qe,object:this,oldValue:s.value_,name:r,newValue:i}:null;s.setNewValue_(i),a&&qe(this,f)}},e.addValue_=function(r,i){var s=this;this.keysAtom_,ut(function(){var l,u=new mn(i,s.enhancer_,"ObservableMap.key",!1);s.data_.set(r,u),i=u.value_,(l=s.hasMap_.get(r))==null||l.setNewValue_(!0),s.keysAtom_.reportChanged()});var o=dr(),a=Be(this),f=a||o?{observableKind:"map",debugObjectName:this.name_,type:wt,object:this,name:r,newValue:i}:null;a&&qe(this,f)},e.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var r=this,i=this.keys();return yr({next:function(){var o=i.next(),a=o.done,f=o.value;return{done:a,value:a?void 0:r.get(f)}}})},e.entries=function(){var r=this,i=this.keys();return yr({next:function(){var o=i.next(),a=o.done,f=o.value;return{done:a,value:a?void 0:[f,r.get(f)]}}})},e[Qu]=function(){return this.entries()},e.forEach=function(r,i){for(var s=_n(this),o;!(o=s()).done;){var a=o.value,f=a[0],l=a[1];r.call(i,l,f,this)}},e.merge=function(r){var i=this;return Wt(r)&&(r=new Map(r)),ut(function(){dt(r)?zl(r).forEach(function(s){return i.set(s,r[s])}):Array.isArray(r)?r.forEach(function(s){var o=s[0],a=s[1];return i.set(o,a)}):Pn(r)?(r.constructor!==Map&&q(19,r),r.forEach(function(s,o){return i.set(o,s)})):r!=null&&q(20,r)}),this},e.clear=function(){var r=this;ut(function(){Nu(function(){for(var i=_n(r.keys()),s;!(s=i()).done;){var o=s.value;r.delete(o)}})})},e.replace=function(r){var i=this;return ut(function(){for(var s=pf(r),o=new Map,a=!1,f=_n(i.data_.keys()),l;!(l=f()).done;){var u=l.value;if(!s.has(u)){var d=i.delete(u);if(d)a=!0;else{var h=i.data_.get(u);o.set(u,h)}}}for(var m=_n(s.entries()),A;!(A=m()).done;){var D=A.value,j=D[0],k=D[1],I=i.data_.has(j);if(i.set(j,k),i.data_.has(j)){var P=i.data_.get(j);o.set(j,P),I||(a=!0)}}if(!a)if(i.data_.size!==o.size)i.keysAtom_.reportChanged();else for(var T=i.data_.keys(),b=o.keys(),C=T.next(),ne=b.next();!C.done;){if(C.value!==ne.value){i.keysAtom_.reportChanged();break}C=T.next(),ne=b.next()}i.data_=o}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(r,i){return Cr(this,r)},e.intercept_=function(r){return xr(this,r)},Do(t,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:el,get:function(){return"Map"}}]),t}(),Wt=zt("ObservableMap",$r);function pf(t){if(Pn(t)||Wt(t))return t;if(Array.isArray(t))return new Map(t);if(dt(t)){var e=new Map;for(var n in t)e.set(n,t[n]);return e}else return q(21,t)}var tl,nl,vf={};tl=Symbol.iterator;nl=Symbol.toStringTag;var Di=function(){function t(n,r,i){r===void 0&&(r=Tn),i===void 0&&(i="ObservableSet"),this.name_=void 0,this[L]=vf,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=i,Ve(Set)||q(22),this.atom_=bu(this.name_),this.enhancer_=function(s,o){return r(s,o,i)},n&&this.replace(n)}var e=t.prototype;return e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.clear=function(){var r=this;ut(function(){Nu(function(){for(var i=_n(r.data_.values()),s;!(s=i()).done;){var o=s.value;r.delete(o)}})})},e.forEach=function(r,i){for(var s=_n(this),o;!(o=s()).done;){var a=o.value;r.call(i,a,a,this)}},e.add=function(r){var i=this;if(this.atom_,Ce(this)){var s=$e(this,{type:wt,object:this,newValue:r});if(!s)return this}if(!this.has(r)){ut(function(){i.data_.add(i.enhancer_(r,void 0)),i.atom_.reportChanged()});var o=!1,a=Be(this),f=a||o?{observableKind:"set",debugObjectName:this.name_,type:wt,object:this,newValue:r}:null;a&&qe(this,f)}return this},e.delete=function(r){var i=this;if(Ce(this)){var s=$e(this,{type:Ai,object:this,oldValue:r});if(!s)return!1}if(this.has(r)){var o=!1,a=Be(this),f=a||o?{observableKind:"set",debugObjectName:this.name_,type:Ai,object:this,oldValue:r}:null;return ut(function(){i.atom_.reportChanged(),i.data_.delete(r)}),a&&qe(this,f),!0}return!1},e.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},e.entries=function(){var r=0,i=Array.from(this.keys()),s=Array.from(this.values());return yr({next:function(){var a=r;return r+=1,a<s.length?{value:[i[a],s[a]],done:!1}:{done:!0}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var r=this,i=0,s=Array.from(this.data_.values());return yr({next:function(){return i<s.length?{value:r.dehanceValue_(s[i++]),done:!1}:{done:!0}}})},e.replace=function(r){var i=this;return Dn(r)&&(r=new Set(r)),ut(function(){Array.isArray(r)?(i.clear(),r.forEach(function(s){return i.add(s)})):Ar(r)?(i.clear(),r.forEach(function(s){return i.add(s)})):r!=null&&q("Cannot initialize set from "+r)}),this},e.observe_=function(r,i){return Cr(this,r)},e.intercept_=function(r){return xr(this,r)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[tl]=function(){return this.values()},Do(t,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:nl,get:function(){return"Set"}}]),t}(),Dn=zt("ObservableSet",Di),ua=Object.create(null),la="remove",rl=function(){function t(n,r,i,s){r===void 0&&(r=new Map),s===void 0&&(s=_c),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=i,this.defaultAnnotation_=s,this.keysAtom_=new Er("ObservableObject.keys"),this.isPlainObject_=dt(this.target_)}var e=t.prototype;return e.getObservablePropValue_=function(r){return this.values_.get(r).get()},e.setObservablePropValue_=function(r,i){var s=this.values_.get(r);if(s instanceof _r)return s.set(i),!0;if(Ce(this)){var o=$e(this,{type:Qe,object:this.proxy_||this.target_,name:r,newValue:i});if(!o)return null;i=o.newValue}if(i=s.prepareNewValue_(i),i!==E.UNCHANGED){var a=Be(this),f=!1,l=a||f?{type:Qe,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:s.value_,name:r,newValue:i}:null;s.setNewValue_(i),a&&qe(this,l)}return!0},e.get_=function(r){return E.trackingDerivation&&!ht(this.target_,r)&&this.has_(r),this.target_[r]},e.set_=function(r,i,s){return s===void 0&&(s=!1),ht(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,i):s?Reflect.set(this.target_,r,i):(this.target_[r]=i,!0):this.extend_(r,{value:i,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,s)},e.has_=function(r){if(!E.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var i=this.pendingKeys_.get(r);return i||(i=new mn(r in this.target_,Li,"ObservableObject.key?",!1),this.pendingKeys_.set(r,i)),i.get()},e.make_=function(r,i){if(i===!0&&(i=this.defaultAnnotation_),i!==!1){if(!(r in this.target_)){var s;if((s=this.target_[Ze])!=null&&s[r])return;q(1,i.annotationType_,this.name_+"."+r.toString())}for(var o=this.target_;o&&o!==$i;){var a=_i(o,r);if(a){var f=i.make_(this,r,a,o);if(f===0)return;if(f===1)break}o=Object.getPrototypeOf(o)}fa(this,i,r)}},e.extend_=function(r,i,s,o){if(o===void 0&&(o=!1),s===!0&&(s=this.defaultAnnotation_),s===!1)return this.defineProperty_(r,i,o);var a=s.extend_(this,r,i,o);return a&&fa(this,s,r),a},e.defineProperty_=function(r,i,s){s===void 0&&(s=!1);try{be();var o=this.delete_(r);if(!o)return o;if(Ce(this)){var a=$e(this,{object:this.proxy_||this.target_,name:r,type:wt,newValue:i.value});if(!a)return null;var f=a.newValue;i.value!==f&&(i=En({},i,{value:f}))}if(s){if(!Reflect.defineProperty(this.target_,r,i))return!1}else ft(this.target_,r,i);this.notifyPropertyAddition_(r,i.value)}finally{ye()}return!0},e.defineObservableProperty_=function(r,i,s,o){o===void 0&&(o=!1);try{be();var a=this.delete_(r);if(!a)return a;if(Ce(this)){var f=$e(this,{object:this.proxy_||this.target_,name:r,type:wt,newValue:i});if(!f)return null;i=f.newValue}var l=ca(r),u={configurable:E.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:l.get,set:l.set};if(o){if(!Reflect.defineProperty(this.target_,r,u))return!1}else ft(this.target_,r,u);var d=new mn(i,s,"ObservableObject.key",!1);this.values_.set(r,d),this.notifyPropertyAddition_(r,d.value_)}finally{ye()}return!0},e.defineComputedProperty_=function(r,i,s){s===void 0&&(s=!1);try{be();var o=this.delete_(r);if(!o)return o;if(Ce(this)){var a=$e(this,{object:this.proxy_||this.target_,name:r,type:wt,newValue:void 0});if(!a)return null}i.name||(i.name="ObservableObject.key"),i.context=this.proxy_||this.target_;var f=ca(r),l={configurable:E.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:f.get,set:f.set};if(s){if(!Reflect.defineProperty(this.target_,r,l))return!1}else ft(this.target_,r,l);this.values_.set(r,new _r(i)),this.notifyPropertyAddition_(r,void 0)}finally{ye()}return!0},e.delete_=function(r,i){if(i===void 0&&(i=!1),!ht(this.target_,r))return!0;if(Ce(this)){var s=$e(this,{object:this.proxy_||this.target_,name:r,type:la});if(!s)return null}try{var o,a;be();var f=Be(this),l=!1,u=this.values_.get(r),d=void 0;if(!u&&(f||l)){var h;d=(h=_i(this.target_,r))==null?void 0:h.value}if(i){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(u&&(this.values_.delete(r),u instanceof mn&&(d=u.value_),Iu(u)),this.keysAtom_.reportChanged(),(o=this.pendingKeys_)==null||(a=o.get(r))==null||a.set(r in this.target_),f||l){var m={type:la,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:d,name:r};f&&qe(this,m)}}finally{ye()}return!0},e.observe_=function(r,i){return Cr(this,r)},e.intercept_=function(r){return xr(this,r)},e.notifyPropertyAddition_=function(r,i){var s,o,a=Be(this),f=!1;if(a||f){var l=a||f?{type:wt,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:i}:null;a&&qe(this,l)}(s=this.pendingKeys_)==null||(o=s.get(r))==null||o.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),Sn(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},t}();function Mr(t,e){var n;if(ht(t,L))return t;var r=(n=e==null?void 0:e.name)!=null?n:"ObservableObject",i=new rl(t,new Map,String(r),Tc(e));return Or(t,L,i),t}var _f=zt("ObservableObjectAdministration",rl);function ca(t){return ua[t]||(ua[t]={get:function(){return this[L].getObservablePropValue_(t)},set:function(n){return this[L].setObservablePropValue_(t,n)}})}function br(t){return Mi(t)?_f(t[L]):!1}function fa(t,e,n){var r;(r=t.target_[Ze])==null||delete r[n]}var gf=sl(0),zs=0,il=function(){};function mf(t,e){Object.setPrototypeOf?Object.setPrototypeOf(t.prototype,e):t.prototype.__proto__!==void 0?t.prototype.__proto__=e:t.prototype=e}mf(il,Array.prototype);var Go=function(t,e,n){mu(r,t);function r(s,o,a,f){var l;a===void 0&&(a="ObservableArray"),f===void 0&&(f=!1),l=t.call(this)||this;var u=new Vo(a,o,f,!0);if(u.proxy_=qs(l),vu(qs(l),L,u),s&&s.length){var d=jr(!0);l.spliceWithArray(0,0,s),Rr(d)}return Object.defineProperty(qs(l),"0",gf),l}var i=r.prototype;return i.concat=function(){this[L].atom_.reportObserved();for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];return Array.prototype.concat.apply(this.slice(),a.map(function(l){return Ui(l)?l.slice():l}))},i[n]=function(){var s=this,o=0;return yr({next:function(){return o<s.length?{value:s[o++],done:!1}:{done:!0,value:void 0}}})},Do(r,[{key:"length",get:function(){return this[L].getArrayLength_()},set:function(o){this[L].setArrayLength_(o)}},{key:e,get:function(){return"Array"}}]),r}(il,Symbol.toStringTag,Symbol.iterator);Object.entries(Oi).forEach(function(t){var e=t[0],n=t[1];e!=="concat"&&Or(Go.prototype,e,n)});function sl(t){return{enumerable:!1,configurable:!0,get:function(){return this[L].get_(t)},set:function(n){this[L].set_(t,n)}}}function bf(t){ft(Go.prototype,""+t,sl(t))}function ol(t){if(t>zs){for(var e=zs;e<t+100;e++)bf(e);zs=t}}ol(1e3);function yf(t,e,n){return new Go(t,e,n)}function Vt(t,e){if(typeof t=="object"&&t!==null){if(Ui(t))return e!==void 0&&q(23),t[L].atom_;if(Dn(t))return t[L];if(Wt(t)){if(e===void 0)return t.keysAtom_;var n=t.data_.get(e)||t.hasMap_.get(e);return n||q(25,e,yo(t)),n}if(br(t)){if(!e)return q(26);var r=t[L].values_.get(e);return r||q(27,e,yo(t)),r}if(Fo(t)||Pi(t)||yi(t))return t}else if(Ve(t)&&yi(t[L]))return t[L];q(28)}function al(t,e){if(t||q(29),e!==void 0)return al(Vt(t,e));if(Fo(t)||Pi(t)||yi(t)||Wt(t)||Dn(t))return t;if(t[L])return t[L];q(24,t)}function yo(t,e){var n;if(e!==void 0)n=Vt(t,e);else{if(qo(t))return t.name;br(t)||Wt(t)||Dn(t)?n=al(t):n=Vt(t)}return n.name_}var ha=$i.toString;function Ko(t,e,n){return n===void 0&&(n=-1),wo(t,e,n)}function wo(t,e,n,r,i){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var s=typeof t;if(s!=="function"&&s!=="object"&&typeof e!="object")return!1;var o=ha.call(t);if(o!==ha.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":n>=0&&n++;break}t=da(t),e=da(e);var a=o==="[object Array]";if(!a){if(typeof t!="object"||typeof e!="object")return!1;var f=t.constructor,l=e.constructor;if(f!==l&&!(Ve(f)&&f instanceof f&&Ve(l)&&l instanceof l)&&"constructor"in t&&"constructor"in e)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],i=i||[];for(var u=r.length;u--;)if(r[u]===t)return i[u]===e;if(r.push(t),i.push(e),a){if(u=t.length,u!==e.length)return!1;for(;u--;)if(!wo(t[u],e[u],n-1,r,i))return!1}else{var d=Object.keys(t),h;if(u=d.length,Object.keys(e).length!==u)return!1;for(;u--;)if(h=d[u],!(ht(e,h)&&wo(t[h],e[h],n-1,r,i)))return!1}return r.pop(),i.pop(),!0}function da(t){return Ui(t)?t.slice():Pn(t)||Wt(t)||Ar(t)||Dn(t)?Array.from(t.entries()):t}function yr(t){return t[Symbol.iterator]=wf,t}function wf(){return this}["Symbol","Map","Set"].forEach(function(t){var e=cu();typeof e[t]>"u"&&q("MobX requires global '"+t+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Gc,extras:{getDebugName:yo},$mobx:L});var Ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Of(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Tt={},Af={get exports(){return Tt},set exports(t){Tt=t}};(function(t,e){var n=200,r="__lodash_hash_undefined__",i=1,s=2,o=9007199254740991,a="[object Arguments]",f="[object Array]",l="[object AsyncFunction]",u="[object Boolean]",d="[object Date]",h="[object Error]",m="[object Function]",A="[object GeneratorFunction]",D="[object Map]",j="[object Number]",k="[object Null]",I="[object Object]",P="[object Promise]",T="[object Proxy]",b="[object RegExp]",C="[object Set]",ne="[object String]",xt="[object Symbol]",vt="[object Undefined]",ue="[object WeakMap]",Pe="[object ArrayBuffer]",pe="[object DataView]",qn="[object Float32Array]",Ct="[object Float64Array]",Hi="[object Int8Array]",Wi="[object Int16Array]",ki="[object Int32Array]",Ji="[object Uint8Array]",Xi="[object Uint8ClampedArray]",Zi="[object Uint16Array]",Yi="[object Uint32Array]",Qi=/[\\^$.*+?()[\]{}|]/g,J=/^\[object .+?Constructor\]$/,Dr=/^(?:0|[1-9]\d*)$/,X={};X[qn]=X[Ct]=X[Hi]=X[Wi]=X[ki]=X[Ji]=X[Xi]=X[Zi]=X[Yi]=!0,X[a]=X[f]=X[Pe]=X[u]=X[pe]=X[d]=X[h]=X[m]=X[D]=X[j]=X[I]=X[b]=X[C]=X[ne]=X[ue]=!1;var _t=typeof Ot=="object"&&Ot&&Ot.Object===Object&&Ot,Fr=typeof self=="object"&&self&&self.Object===Object&&self,he=_t||Fr||Function("return this")(),Vn=e&&!e.nodeType&&e,Jt=Vn&&!0&&t&&!t.nodeType&&t,Gn=Jt&&Jt.exports===Vn,Xt=Gn&&_t.process,Kn=function(){try{return Xt&&Xt.binding&&Xt.binding("util")}catch{}}(),Ir=Kn&&Kn.isTypedArray;function es(p,_){for(var y=-1,S=p==null?0:p.length,c=0,v=[];++y<S;){var g=p[y];_(g,y,p)&&(v[c++]=g)}return v}function ts(p,_){for(var y=-1,S=_.length,c=p.length;++y<S;)p[c+y]=_[y];return p}function ns(p,_){for(var y=-1,S=p==null?0:p.length;++y<S;)if(_(p[y],y,p))return!0;return!1}function rs(p,_){for(var y=-1,S=Array(p);++y<p;)S[y]=_(y);return S}function is(p){return function(_){return p(_)}}function Zt(p,_){return p.has(_)}function zn(p,_){return p==null?void 0:p[_]}function Yt(p){var _=-1,y=Array(p.size);return p.forEach(function(S,c){y[++_]=[c,S]}),y}function Ue(p,_){return function(y){return p(_(y))}}function Br(p){var _=-1,y=Array(p.size);return p.forEach(function(S){y[++_]=S}),y}var qr=Array.prototype,ss=Function.prototype,Qt=Object.prototype,gt=he["__core-js_shared__"],Hn=ss.toString,Ae=Qt.hasOwnProperty,Wn=function(){var p=/[^.]+$/.exec(gt&&gt.keys&&gt.keys.IE_PROTO||"");return p?"Symbol(src)_1."+p:""}(),kn=Qt.toString,Vr=RegExp("^"+Hn.call(Ae).replace(Qi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Gr=Gn?he.Buffer:void 0,en=he.Symbol,ze=he.Uint8Array,$t=Qt.propertyIsEnumerable,os=qr.splice,He=en?en.toStringTag:void 0,Kr=Object.getOwnPropertySymbols,zr=Gr?Gr.isBuffer:void 0,Mt=Ue(Object.keys,Object),Jn=mt(he,"DataView"),Se=mt(he,"Map"),Xn=mt(he,"Promise"),Zn=mt(he,"Set"),Yn=mt(he,"WeakMap"),Lt=mt(Object,"create"),as=je(Jn),De=je(Se),us=je(Xn),ls=je(Zn),cs=je(Yn),Hr=en?en.prototype:void 0,Qn=Hr?Hr.valueOf:void 0;function ve(p){var _=-1,y=p==null?0:p.length;for(this.clear();++_<y;){var S=p[_];this.set(S[0],S[1])}}function fs(){this.__data__=Lt?Lt(null):{},this.size=0}function hs(p){var _=this.has(p)&&delete this.__data__[p];return this.size-=_?1:0,_}function ds(p){var _=this.__data__;if(Lt){var y=_[p];return y===r?void 0:y}return Ae.call(_,p)?_[p]:void 0}function ps(p){var _=this.__data__;return Lt?_[p]!==void 0:Ae.call(_,p)}function vs(p,_){var y=this.__data__;return this.size+=this.has(p)?0:1,y[p]=Lt&&_===void 0?r:_,this}ve.prototype.clear=fs,ve.prototype.delete=hs,ve.prototype.get=ds,ve.prototype.has=ps,ve.prototype.set=vs;function ce(p){var _=-1,y=p==null?0:p.length;for(this.clear();++_<y;){var S=p[_];this.set(S[0],S[1])}}function _s(){this.__data__=[],this.size=0}function gs(p){var _=this.__data__,y=nn(_,p);if(y<0)return!1;var S=_.length-1;return y==S?_.pop():os.call(_,y,1),--this.size,!0}function ms(p){var _=this.__data__,y=nn(_,p);return y<0?void 0:_[y][1]}function bs(p){return nn(this.__data__,p)>-1}function ys(p,_){var y=this.__data__,S=nn(y,p);return S<0?(++this.size,y.push([p,_])):y[S][1]=_,this}ce.prototype.clear=_s,ce.prototype.delete=gs,ce.prototype.get=ms,ce.prototype.has=bs,ce.prototype.set=ys;function ot(p){var _=-1,y=p==null?0:p.length;for(this.clear();++_<y;){var S=p[_];this.set(S[0],S[1])}}function er(){this.size=0,this.__data__={hash:new ve,map:new(Se||ce),string:new ve}}function ws(p){var _=sn(this,p).delete(p);return this.size-=_?1:0,_}function tn(p){return sn(this,p).get(p)}function tr(p){return sn(this,p).has(p)}function Os(p,_){var y=sn(this,p),S=y.size;return y.set(p,_),this.size+=y.size==S?0:1,this}ot.prototype.clear=er,ot.prototype.delete=ws,ot.prototype.get=tn,ot.prototype.has=tr,ot.prototype.set=Os;function at(p){var _=-1,y=p==null?0:p.length;for(this.__data__=new ot;++_<y;)this.add(p[_])}function Wr(p){return this.__data__.set(p,r),this}function As(p){return this.__data__.has(p)}at.prototype.add=at.prototype.push=Wr,at.prototype.has=As;function We(p){var _=this.__data__=new ce(p);this.size=_.size}function Ss(){this.__data__=new ce,this.size=0}function nr(p){var _=this.__data__,y=_.delete(p);return this.size=_.size,y}function Es(p){return this.__data__.get(p)}function kr(p){return this.__data__.has(p)}function Ts(p,_){var y=this.__data__;if(y instanceof ce){var S=y.__data__;if(!Se||S.length<n-1)return S.push([p,_]),this.size=++y.size,this;y=this.__data__=new ot(S)}return y.set(p,_),this.size=y.size,this}We.prototype.clear=Ss,We.prototype.delete=nr,We.prototype.get=Es,We.prototype.has=kr,We.prototype.set=Ts;function js(p,_){var y=bt(p),S=!y&&sr(p),c=!y&&!S&&an(p),v=!y&&!S&&!c&&ur(p),g=y||S||c||v,O=g?rs(p.length,String):[],x=O.length;for(var R in p)(_||Ae.call(p,R))&&!(g&&(R=="length"||c&&(R=="offset"||R=="parent")||v&&(R=="buffer"||R=="byteLength"||R=="byteOffset")||Ms(R,x)))&&O.push(R);return O}function nn(p,_){for(var y=p.length;y--;)if(on(p[y][0],_))return y;return-1}function Rs(p,_,y){var S=_(p);return bt(p)?S:ts(S,y(p))}function Nt(p){return p==null?p===void 0?vt:k:He&&He in Object(p)?ti(p):Ps(p)}function Jr(p){return Pt(p)&&Nt(p)==a}function Xr(p,_,y,S,c){return p===_?!0:p==null||_==null||!Pt(p)&&!Pt(_)?p!==p&&_!==_:xs(p,_,y,S,Xr,c)}function xs(p,_,y,S,c,v){var g=bt(p),O=bt(_),x=g?f:ke(p),R=O?f:ke(_);x=x==a?I:x,R=R==a?I:R;var U=x==I,$=R==I,N=x==R;if(N&&an(p)){if(!an(_))return!1;g=!0,U=!1}if(N&&!U)return v||(v=new We),g||ur(p)?Yr(p,_,y,S,c,v):Cs(p,_,x,y,S,c,v);if(!(y&i)){var te=U&&Ae.call(p,"__wrapped__"),Q=$&&Ae.call(_,"__wrapped__");if(te||Q){var _e=te?p.value():p,Ee=Q?_.value():_;return v||(v=new We),c(_e,Ee,y,S,v)}}return N?(v||(v=new We),Qr(p,_,y,S,c,v)):!1}function Zr(p){if(!yt(p)||Ls(p))return!1;var _=ar(p)?Vr:J;return _.test(je(p))}function rn(p){return Pt(p)&&Re(p.length)&&!!X[Nt(p)]}function rr(p){if(!Ns(p))return Mt(p);var _=[];for(var y in Object(p))Ae.call(p,y)&&y!="constructor"&&_.push(y);return _}function Yr(p,_,y,S,c,v){var g=y&i,O=p.length,x=_.length;if(O!=x&&!(g&&x>O))return!1;var R=v.get(p);if(R&&v.get(_))return R==_;var U=-1,$=!0,N=y&s?new at:void 0;for(v.set(p,_),v.set(_,p);++U<O;){var te=p[U],Q=_[U];if(S)var _e=g?S(Q,te,U,_,p,v):S(te,Q,U,p,_,v);if(_e!==void 0){if(_e)continue;$=!1;break}if(N){if(!ns(_,function(Ee,Fe){if(!Zt(N,Fe)&&(te===Ee||c(te,Ee,y,S,v)))return N.push(Fe)})){$=!1;break}}else if(!(te===Q||c(te,Q,y,S,v))){$=!1;break}}return v.delete(p),v.delete(_),$}function Cs(p,_,y,S,c,v,g){switch(y){case pe:if(p.byteLength!=_.byteLength||p.byteOffset!=_.byteOffset)return!1;p=p.buffer,_=_.buffer;case Pe:return!(p.byteLength!=_.byteLength||!v(new ze(p),new ze(_)));case u:case d:case j:return on(+p,+_);case h:return p.name==_.name&&p.message==_.message;case b:case ne:return p==_+"";case D:var O=Yt;case C:var x=S&i;if(O||(O=Br),p.size!=_.size&&!x)return!1;var R=g.get(p);if(R)return R==_;S|=s,g.set(p,_);var U=Yr(O(p),O(_),S,c,v,g);return g.delete(p),U;case xt:if(Qn)return Qn.call(p)==Qn.call(_)}return!1}function Qr(p,_,y,S,c,v){var g=y&i,O=ei(p),x=O.length,R=ei(_),U=R.length;if(x!=U&&!g)return!1;for(var $=x;$--;){var N=O[$];if(!(g?N in _:Ae.call(_,N)))return!1}var te=v.get(p);if(te&&v.get(_))return te==_;var Q=!0;v.set(p,_),v.set(_,p);for(var _e=g;++$<x;){N=O[$];var Ee=p[N],Fe=_[N];if(S)var lr=g?S(Fe,Ee,N,_,p,v):S(Ee,Fe,N,p,_,v);if(!(lr===void 0?Ee===Fe||c(Ee,Fe,y,S,v):lr)){Q=!1;break}_e||(_e=N=="constructor")}if(Q&&!_e){var ri=p.constructor,ii=_.constructor;ri!=ii&&"constructor"in p&&"constructor"in _&&!(typeof ri=="function"&&ri instanceof ri&&typeof ii=="function"&&ii instanceof ii)&&(Q=!1)}return v.delete(p),v.delete(_),Q}function ei(p){return Rs(p,Ds,$s)}function sn(p,_){var y=p.__data__;return ir(_)?y[typeof _=="string"?"string":"hash"]:y.map}function mt(p,_){var y=zn(p,_);return Zr(y)?y:void 0}function ti(p){var _=Ae.call(p,He),y=p[He];try{p[He]=void 0;var S=!0}catch{}var c=kn.call(p);return S&&(_?p[He]=y:delete p[He]),c}var $s=Kr?function(p){return p==null?[]:(p=Object(p),es(Kr(p),function(_){return $t.call(p,_)}))}:Fs,ke=Nt;(Jn&&ke(new Jn(new ArrayBuffer(1)))!=pe||Se&&ke(new Se)!=D||Xn&&ke(Xn.resolve())!=P||Zn&&ke(new Zn)!=C||Yn&&ke(new Yn)!=ue)&&(ke=function(p){var _=Nt(p),y=_==I?p.constructor:void 0,S=y?je(y):"";if(S)switch(S){case as:return pe;case De:return D;case us:return P;case ls:return C;case cs:return ue}return _});function Ms(p,_){return _=_??o,!!_&&(typeof p=="number"||Dr.test(p))&&p>-1&&p%1==0&&p<_}function ir(p){var _=typeof p;return _=="string"||_=="number"||_=="symbol"||_=="boolean"?p!=="__proto__":p===null}function Ls(p){return!!Wn&&Wn in p}function Ns(p){var _=p&&p.constructor,y=typeof _=="function"&&_.prototype||Qt;return p===y}function Ps(p){return kn.call(p)}function je(p){if(p!=null){try{return Hn.call(p)}catch{}try{return p+""}catch{}}return""}function on(p,_){return p===_||p!==p&&_!==_}var sr=Jr(function(){return arguments}())?Jr:function(p){return Pt(p)&&Ae.call(p,"callee")&&!$t.call(p,"callee")},bt=Array.isArray;function Us(p){return p!=null&&Re(p.length)&&!ar(p)}var an=zr||ni;function or(p,_){return Xr(p,_)}function ar(p){if(!yt(p))return!1;var _=Nt(p);return _==m||_==A||_==l||_==T}function Re(p){return typeof p=="number"&&p>-1&&p%1==0&&p<=o}function yt(p){var _=typeof p;return p!=null&&(_=="object"||_=="function")}function Pt(p){return p!=null&&typeof p=="object"}var ur=Ir?is(Ir):rn;function Ds(p){return Us(p)?js(p):rr(p)}function Fs(){return[]}function ni(){return!1}t.exports=or})(Af,Tt);function It(t){var e=new Error(t);return e.source="ulid",e}var Fi="0123456789ABCDEFGHJKMNPQRSTVWXYZ",bn=Fi.length,Oo=Math.pow(2,48)-1,Ao=10,ul=16;function Sf(t){var e=Math.floor(t()*bn);return e===bn&&(e=bn-1),Fi.charAt(e)}function Ef(t,e){if(isNaN(t))throw new Error(t+" must be a number");if(t>Oo)throw It("cannot encode time greater than "+Oo);if(t<0)throw It("time must be positive");if(Number.isInteger(t)===!1)throw It("time must be an integer");for(var n=void 0,r="";e>0;e--)n=t%bn,r=Fi.charAt(n)+r,t=(t-n)/bn;return r}function Tf(t,e){for(var n="";t>0;t--)n=Sf(e)+n;return n}function Rn(t){if(t.length!==Ao+ul)throw It("malformed ulid");var e=t.substr(0,Ao).split("").reverse().reduce(function(n,r,i){var s=Fi.indexOf(r);if(s===-1)throw It("invalid character found: "+r);return n+=s*Math.pow(bn,i)},0);if(e>Oo)throw It("malformed ulid, timestamp too large");return e}function jf(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=arguments[1];e||(e=typeof window<"u"?window:null);var n=e&&(e.crypto||e.msCrypto);if(n)return function(){var i=new Uint8Array(1);return n.getRandomValues(i),i[0]/255};try{var r=require("crypto");return function(){return r.randomBytes(1).readUInt8()/255}}catch{}if(t){try{console.error("secure crypto unusable, falling back to insecure Math.random()!")}catch{}return function(){return Math.random()}}throw It("secure crypto unusable, insecure Math.random not allowed")}function Rf(t){return t||(t=jf()),function(n){return isNaN(n)&&(n=Date.now()),Ef(n,Ao)+Tf(ul,t)}}var Si=Rf();function M(t){return typeof t>"u"?null:t}function Ei(t){return t?new Date(typeof t=="string"?t:t.$date):null}class Fn extends $r{constructor(e){super(),this.client=e}}const dn={Access:1<<0,ViewProfile:1<<1,SendMessage:1<<2,Invite:1<<3},se={ManageChannel:Math.pow(2,0),ManageServer:Math.pow(2,1),ManagePermissions:Math.pow(2,2),ManageRole:Math.pow(2,3),ManageCustomisation:Math.pow(2,4),KickMembers:Math.pow(2,6),BanMembers:Math.pow(2,7),TimeoutMembers:Math.pow(2,8),AssignRoles:Math.pow(2,9),ChangeNickname:Math.pow(2,10),ManageNicknames:Math.pow(2,11),ChangeAvatar:Math.pow(2,12),RemoveAvatars:Math.pow(2,13),ViewChannel:Math.pow(2,20),ReadMessageHistory:Math.pow(2,21),SendMessage:Math.pow(2,22),ManageMessages:Math.pow(2,23),ManageWebhooks:Math.pow(2,24),InviteOthers:Math.pow(2,25),SendEmbeds:Math.pow(2,26),UploadFiles:Math.pow(2,27),Masquerade:Math.pow(2,28),React:Math.pow(2,29),Connect:Math.pow(2,30),Speak:Math.pow(2,31),Video:Math.pow(2,32),MuteMembers:Math.pow(2,33),DeafenMembers:Math.pow(2,34),MoveMembers:Math.pow(2,35),GrantAllSafe:0xfffffffffffff},xf=Math.pow(2,32)-1,pa=se.ViewChannel+se.ReadMessageHistory,ll=se.ViewChannel+se.ReadMessageHistory,Cf=ll+se.SendMessage+se.InviteOthers+se.SendEmbeds+se.UploadFiles+se.Connect+se.Speak,Hs=Cf+se.React+se.ManageChannel;/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var Me=null;try{Me=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function G(t,e,n){this.low=t|0,this.high=e|0,this.unsigned=!!n}G.prototype.__isLong__;Object.defineProperty(G.prototype,"__isLong__",{value:!0});function fe(t){return(t&&t.__isLong__)===!0}function va(t){var e=Math.clz32(t&-t);return t?31-e:e}G.isLong=fe;var _a={},ga={};function kt(t,e){var n,r,i;return e?(t>>>=0,(i=0<=t&&t<256)&&(r=ga[t],r)?r:(n=V(t,0,!0),i&&(ga[t]=n),n)):(t|=0,(i=-128<=t&&t<128)&&(r=_a[t],r)?r:(n=V(t,t<0?-1:0,!1),i&&(_a[t]=n),n))}G.fromInt=kt;function Le(t,e){if(isNaN(t))return e?ct:Ie;if(e){if(t<0)return ct;if(t>=cl)return dl}else{if(t<=-ba)return we;if(t+1>=ba)return hl}return t<0?Le(-t,e).neg():V(t%xn|0,t/xn|0,e)}G.fromNumber=Le;function V(t,e,n){return new G(t,e,n)}G.fromBits=V;var Ti=Math.pow;function zo(t,e,n){if(t.length===0)throw Error("empty string");if(typeof e=="number"?(n=e,e=!1):e=!!e,t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return e?ct:Ie;if(n=n||10,n<2||36<n)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw Error("interior hyphen");if(r===0)return zo(t.substring(1),e,n).neg();for(var i=Le(Ti(n,8)),s=Ie,o=0;o<t.length;o+=8){var a=Math.min(8,t.length-o),f=parseInt(t.substring(o,o+a),n);if(a<8){var l=Le(Ti(n,a));s=s.mul(l).add(Le(f))}else s=s.mul(i),s=s.add(Le(f))}return s.unsigned=e,s}G.fromString=zo;function Ge(t,e){return typeof t=="number"?Le(t,e):typeof t=="string"?zo(t,e):V(t.low,t.high,typeof e=="boolean"?e:t.unsigned)}G.fromValue=Ge;var ma=1<<16,$f=1<<24,xn=ma*ma,cl=xn*xn,ba=cl/2,ya=kt($f),Ie=kt(0);G.ZERO=Ie;var ct=kt(0,!0);G.UZERO=ct;var gn=kt(1);G.ONE=gn;var fl=kt(1,!0);G.UONE=fl;var So=kt(-1);G.NEG_ONE=So;var hl=V(-1,2147483647,!1);G.MAX_VALUE=hl;var dl=V(-1,-1,!0);G.MAX_UNSIGNED_VALUE=dl;var we=V(0,-2147483648,!1);G.MIN_VALUE=we;var w=G.prototype;w.toInt=function(){return this.unsigned?this.low>>>0:this.low};w.toNumber=function(){return this.unsigned?(this.high>>>0)*xn+(this.low>>>0):this.high*xn+(this.low>>>0)};w.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(we)){var n=Le(e),r=this.div(n),i=r.mul(n).sub(this);return r.toString(e)+i.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var s=Le(Ti(e,6),this.unsigned),o=this,a="";;){var f=o.div(s),l=o.sub(f.mul(s)).toInt()>>>0,u=l.toString(e);if(o=f,o.isZero())return u+a;for(;u.length<6;)u="0"+u;a=""+u+a}};w.getHighBits=function(){return this.high};w.getHighBitsUnsigned=function(){return this.high>>>0};w.getLowBits=function(){return this.low};w.getLowBitsUnsigned=function(){return this.low>>>0};w.getNumBitsAbs=function(){if(this.isNegative())return this.eq(we)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,n=31;n>0&&!(e&1<<n);n--);return this.high!=0?n+33:n+1};w.isZero=function(){return this.high===0&&this.low===0};w.eqz=w.isZero;w.isNegative=function(){return!this.unsigned&&this.high<0};w.isPositive=function(){return this.unsigned||this.high>=0};w.isOdd=function(){return(this.low&1)===1};w.isEven=function(){return(this.low&1)===0};w.equals=function(e){return fe(e)||(e=Ge(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};w.eq=w.equals;w.notEquals=function(e){return!this.eq(e)};w.neq=w.notEquals;w.ne=w.notEquals;w.lessThan=function(e){return this.comp(e)<0};w.lt=w.lessThan;w.lessThanOrEqual=function(e){return this.comp(e)<=0};w.lte=w.lessThanOrEqual;w.le=w.lessThanOrEqual;w.greaterThan=function(e){return this.comp(e)>0};w.gt=w.greaterThan;w.greaterThanOrEqual=function(e){return this.comp(e)>=0};w.gte=w.greaterThanOrEqual;w.ge=w.greaterThanOrEqual;w.compare=function(e){if(fe(e)||(e=Ge(e)),this.eq(e))return 0;var n=this.isNegative(),r=e.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};w.comp=w.compare;w.negate=function(){return!this.unsigned&&this.eq(we)?we:this.not().add(gn)};w.neg=w.negate;w.add=function(e){fe(e)||(e=Ge(e));var n=this.high>>>16,r=this.high&65535,i=this.low>>>16,s=this.low&65535,o=e.high>>>16,a=e.high&65535,f=e.low>>>16,l=e.low&65535,u=0,d=0,h=0,m=0;return m+=s+l,h+=m>>>16,m&=65535,h+=i+f,d+=h>>>16,h&=65535,d+=r+a,u+=d>>>16,d&=65535,u+=n+o,u&=65535,V(h<<16|m,u<<16|d,this.unsigned)};w.subtract=function(e){return fe(e)||(e=Ge(e)),this.add(e.neg())};w.sub=w.subtract;w.multiply=function(e){if(this.isZero())return this;if(fe(e)||(e=Ge(e)),Me){var n=Me.mul(this.low,this.high,e.low,e.high);return V(n,Me.get_high(),this.unsigned)}if(e.isZero())return this.unsigned?ct:Ie;if(this.eq(we))return e.isOdd()?we:Ie;if(e.eq(we))return this.isOdd()?we:Ie;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(ya)&&e.lt(ya))return Le(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,i=this.high&65535,s=this.low>>>16,o=this.low&65535,a=e.high>>>16,f=e.high&65535,l=e.low>>>16,u=e.low&65535,d=0,h=0,m=0,A=0;return A+=o*u,m+=A>>>16,A&=65535,m+=s*u,h+=m>>>16,m&=65535,m+=o*l,h+=m>>>16,m&=65535,h+=i*u,d+=h>>>16,h&=65535,h+=s*l,d+=h>>>16,h&=65535,h+=o*f,d+=h>>>16,h&=65535,d+=r*u+i*l+s*f+o*a,d&=65535,V(m<<16|A,d<<16|h,this.unsigned)};w.mul=w.multiply;w.divide=function(e){if(fe(e)||(e=Ge(e)),e.isZero())throw Error("division by zero");if(Me){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var n=(this.unsigned?Me.div_u:Me.div_s)(this.low,this.high,e.low,e.high);return V(n,Me.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?ct:Ie;var r,i,s;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return ct;if(e.gt(this.shru(1)))return fl;s=ct}else{if(this.eq(we)){if(e.eq(gn)||e.eq(So))return we;if(e.eq(we))return gn;var o=this.shr(1);return r=o.div(e).shl(1),r.eq(Ie)?e.isNegative()?gn:So:(i=this.sub(e.mul(r)),s=r.add(i.div(e)),s)}else if(e.eq(we))return this.unsigned?ct:Ie;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();s=Ie}for(i=this;i.gte(e);){r=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(r)/Math.LN2),f=a<=48?1:Ti(2,a-48),l=Le(r),u=l.mul(e);u.isNegative()||u.gt(i);)r-=f,l=Le(r,this.unsigned),u=l.mul(e);l.isZero()&&(l=gn),s=s.add(l),i=i.sub(u)}return s};w.div=w.divide;w.modulo=function(e){if(fe(e)||(e=Ge(e)),Me){var n=(this.unsigned?Me.rem_u:Me.rem_s)(this.low,this.high,e.low,e.high);return V(n,Me.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};w.mod=w.modulo;w.rem=w.modulo;w.not=function(){return V(~this.low,~this.high,this.unsigned)};w.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};w.clz=w.countLeadingZeros;w.countTrailingZeros=function(){return this.low?va(this.low):va(this.high)+32};w.ctz=w.countTrailingZeros;w.and=function(e){return fe(e)||(e=Ge(e)),V(this.low&e.low,this.high&e.high,this.unsigned)};w.or=function(e){return fe(e)||(e=Ge(e)),V(this.low|e.low,this.high|e.high,this.unsigned)};w.xor=function(e){return fe(e)||(e=Ge(e)),V(this.low^e.low,this.high^e.high,this.unsigned)};w.shiftLeft=function(e){return fe(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?V(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):V(0,this.low<<e-32,this.unsigned)};w.shl=w.shiftLeft;w.shiftRight=function(e){return fe(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?V(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):V(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};w.shr=w.shiftRight;w.shiftRightUnsigned=function(e){return fe(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?V(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):e===32?V(this.high,0,this.unsigned):V(this.high>>>e-32,0,this.unsigned)};w.shru=w.shiftRightUnsigned;w.shr_u=w.shiftRightUnsigned;w.rotateLeft=function(e){var n;return fe(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?V(this.high,this.low,this.unsigned):e<32?(n=32-e,V(this.low<<e|this.high>>>n,this.high<<e|this.low>>>n,this.unsigned)):(e-=32,n=32-e,V(this.high<<e|this.low>>>n,this.low<<e|this.high>>>n,this.unsigned))};w.rotl=w.rotateLeft;w.rotateRight=function(e){var n;return fe(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?V(this.high,this.low,this.unsigned):e<32?(n=32-e,V(this.high<<n|this.low>>>e,this.low<<n|this.high>>>e,this.unsigned)):(e-=32,n=32-e,V(this.low<<n|this.high>>>e,this.high<<n|this.low>>>e,this.unsigned))};w.rotr=w.rotateRight;w.toSigned=function(){return this.unsigned?V(this.low,this.high,!1):this};w.toUnsigned=function(){return this.unsigned?this:V(this.low,this.high,!0)};w.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};w.toBytesLE=function(){var e=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};w.toBytesBE=function(){var e=this.high,n=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,n>>>24,n>>>16&255,n>>>8&255,n&255]};G.fromBytes=function(e,n,r){return r?G.fromBytesLE(e,n):G.fromBytesBE(e,n)};G.fromBytesLE=function(e,n){return new G(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)};G.fromBytesBE=function(e,n){return new G(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)};function Ho(t,...e){const n=e.reduce((r,i)=>r.or(i),G.fromNumber(0));return n.and(t).eq(n)}function Ii(t,e){var n,r,i,s,o,a;const f=e!=null&&e.member?e==null?void 0:e.member.user:t.client.user;if(f!=null&&f.privileged)return se.GrantAllSafe;if(t instanceof Ne){if(t.owner===(f==null?void 0:f._id))return se.GrantAllSafe;{const l=(r=(n=e==null?void 0:e.member)!==null&&n!==void 0?n:t.client.members.getKey({user:f._id,server:t._id}))!==null&&r!==void 0?r:{roles:null,timeout:null};if(!l)return 0;let u=G.fromNumber(t.default_permissions);if(l.roles&&t.roles){const d=l.orderedRoles.map(([,h])=>h.permissions);for(const h of d)u=u.or(h.a).and(G.fromNumber(h.d).not())}return l.timeout&&l.timeout>new Date&&(u=u.and(pa)),u.toNumber()}}else switch(t.channel_type){case"SavedMessages":return se.GrantAllSafe;case"DirectMessage":return(((i=t.recipient)===null||i===void 0?void 0:i.permission)||0)&dn.SendMessage?Hs:ll;case"Group":return t.owner_id===f._id?Hs:(s=t.permissions)!==null&&s!==void 0?s:Hs;case"TextChannel":case"VoiceChannel":{const l=t.server;if(typeof l>"u")return 0;if(l.owner===(f==null?void 0:f._id))return se.GrantAllSafe;{const u=(a=(o=e==null?void 0:e.member)!==null&&o!==void 0?o:t.client.members.getKey({user:f._id,server:l._id}))!==null&&a!==void 0?a:{roles:null,timeout:null};if(!u)return 0;let d=G.fromNumber(Ii(l,e));if(t.default_permissions&&(d=d.or(t.default_permissions.a).and(G.fromNumber(t.default_permissions.d).not())),u.roles&&t.role_permissions&&l.roles){const h=u.orderedRoles.map(([m])=>m);for(const m of h){const A=t.role_permissions[m];A&&(d=d.or(A.a).and(G.fromNumber(A.d).not()))}}return u.timeout&&u.timeout>new Date&&(d=d.and(pa)),d.toNumber()}}}}var tt=globalThis&&globalThis.__decorate||function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ie=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function f(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,f)}l((r=r.apply(t,e||[])).next())})};class nt{constructor(e,n){switch(this.active=null,this.owner_id=null,this.server_id=null,this.permissions=null,this.default_permissions=null,this.role_permissions=null,this.name=null,this.icon=null,this.description=null,this.recipient_ids=null,this.last_message_id=null,this.typing_ids=new Set,this.nsfw=null,this.client=e,this._id=n._id,this.channel_type=n.channel_type,n.channel_type){case"DirectMessage":{this.active=M(n.active),this.recipient_ids=M(n.recipients),this.last_message_id=M(n.last_message_id);break}case"Group":{this.recipient_ids=M(n.recipients),this.name=M(n.name),this.owner_id=M(n.owner),this.description=M(n.description),this.last_message_id=M(n.last_message_id),this.icon=M(n.icon),this.permissions=M(n.permissions),this.nsfw=M(n.nsfw);break}case"TextChannel":case"VoiceChannel":{this.server_id=M(n.server),this.name=M(n.name),this.description=M(n.description),this.icon=M(n.icon),this.default_permissions=M(n.default_permissions),this.role_permissions=M(n.role_permissions),n.channel_type==="TextChannel"&&(this.last_message_id=M(n.last_message_id),this.nsfw=M(n.nsfw));break}}Ht(this,{_id:!1,client:!1})}get owner(){if(this.owner_id!==null)return this.client.users.get(this.owner_id)}get server(){if(this.server_id!==null)return this.client.servers.get(this.server_id)}get recipient(){var e;const n=(e=this.recipient_ids)===null||e===void 0?void 0:e.find(r=>this.client.user._id!==r);if(n)return this.client.users.get(n)}get last_message(){const e=this.last_message_id;if(e)return this.client.messages.get(e)}get last_message_id_or_past(){var e;return(e=this.last_message_id)!==null&&e!==void 0?e:"0"}get recipients(){var e;return(e=this.recipient_ids)===null||e===void 0?void 0:e.map(n=>this.client.users.get(n))}get typing(){return Array.from(this.typing_ids).map(e=>this.client.users.get(e))}get createdAt(){return Rn(this._id)}get updatedAt(){return this.last_message_id?Rn(this.last_message_id):this.createdAt}get path(){return this.server_id?`/server/${this.server_id}/channel/${this._id}`:`/channel/${this._id}`}get url(){var e;return((e=this.client.configuration)===null||e===void 0?void 0:e.app)+this.path}isUnread(e){return e.isMuted(this)?!1:this.unread}getMentions(e){return e.isMuted(this)?[]:this.mentions}get unread(){var e,n,r;return!this.last_message_id||this.channel_type==="SavedMessages"||this.channel_type==="VoiceChannel"?!1:((r=(n=(e=this.client.unreads)===null||e===void 0?void 0:e.getUnread(this._id))===null||n===void 0?void 0:n.last_id)!==null&&r!==void 0?r:"0").localeCompare(this.last_message_id)===-1}get mentions(){var e,n,r;return this.channel_type==="SavedMessages"||this.channel_type==="VoiceChannel"?[]:(r=(n=(e=this.client.unreads)===null||e===void 0?void 0:e.getUnread(this._id))===null||n===void 0?void 0:n.mentions)!==null&&r!==void 0?r:[]}update(e,n=[]){const r=(i,s)=>{typeof e[i]<"u"&&!Tt(this[s??i],e[i])&&(this[s??i]=e[i])};for(const i of n)switch(i){case"Description":this.description=null;break;case"Icon":this.icon=null;break}r("active"),r("owner","owner_id"),r("permissions"),r("default_permissions"),r("role_permissions"),r("name"),r("icon"),r("description"),r("recipients","recipient_ids"),r("last_message_id"),r("nsfw")}updateGroupJoin(e){var n;(n=this.recipient_ids)===null||n===void 0||n.push(e)}updateGroupLeave(e){var n;this.recipient_ids=M((n=this.recipient_ids)===null||n===void 0?void 0:n.filter(r=>r!==e))}updateStartTyping(e){this.typing_ids.add(e)}updateStopTyping(e){this.typing_ids.delete(e)}fetchMembers(){return ie(this,void 0,void 0,function*(){return(yield this.client.api.get(`/channels/${this._id}/members`)).map(this.client.users.createObj)})}edit(e){return ie(this,void 0,void 0,function*(){this.update(yield this.client.api.patch(`/channels/${this._id}`,e))})}delete(e,n){return ie(this,void 0,void 0,function*(){n||(yield this.client.api.delete(`/channels/${this._id}`,{leave_silently:e})),H(()=>{if(this.channel_type==="DirectMessage"){this.active=!1;return}if(this.channel_type==="TextChannel"||this.channel_type==="VoiceChannel"){const r=this.server;r&&(r.channel_ids=r.channel_ids.filter(i=>i!==this._id))}this.client.channels.delete(this._id)})})}addMember(e){return ie(this,void 0,void 0,function*(){return yield this.client.api.put(`/channels/${this._id}/recipients/${e}`)})}removeMember(e){return ie(this,void 0,void 0,function*(){return yield this.client.api.delete(`/channels/${this._id}/recipients/${e}`)})}sendMessage(e){return ie(this,void 0,void 0,function*(){const n=Object.assign({nonce:Si()},typeof e=="string"?{content:e}:e),r=yield this.client.api.post(`/channels/${this._id}/messages`,n);return this.client.messages.createObj(r,!0)})}fetchMessage(e){return ie(this,void 0,void 0,function*(){const n=yield this.client.api.get(`/channels/${this._id}/messages/${e}`);return this.client.messages.createObj(n)})}fetchMessages(e){return ie(this,void 0,void 0,function*(){const n=yield this.client.api.get(`/channels/${this._id}/messages`,Object.assign({},e));return H(()=>n.map(this.client.messages.createObj))})}fetchMessagesWithUsers(e){return ie(this,void 0,void 0,function*(){const n=yield this.client.api.get(`/channels/${this._id}/messages`,Object.assign(Object.assign({},e),{include_users:!0}));return H(()=>{var r;return{messages:n.messages.map(this.client.messages.createObj),users:n.users.map(this.client.users.createObj),members:(r=n.members)===null||r===void 0?void 0:r.map(this.client.members.createObj)}})})}search(e){return ie(this,void 0,void 0,function*(){const n=yield this.client.api.post(`/channels/${this._id}/search`,e);return H(()=>n.map(this.client.messages.createObj))})}searchWithUsers(e){return ie(this,void 0,void 0,function*(){const n=yield this.client.api.post(`/channels/${this._id}/search`,Object.assign(Object.assign({},e),{include_users:!0}));return H(()=>{var r;return{messages:n.messages.map(this.client.messages.createObj),users:n.users.map(this.client.users.createObj),members:(r=n.members)===null||r===void 0?void 0:r.map(this.client.members.createObj)}})})}fetchStale(e){return ie(this,void 0,void 0,function*(){return{deprecated:e}})}deleteMessages(e){return ie(this,void 0,void 0,function*(){yield this.client.api.delete(`/channels/${this._id}/messages/bulk`,{data:{ids:e}})})}createInvite(){return ie(this,void 0,void 0,function*(){return yield this.client.api.post(`/channels/${this._id}/invites`)})}joinCall(){return ie(this,void 0,void 0,function*(){return yield this.client.api.post(`/channels/${this._id}/join_call`)})}ack(e,n){var r,i;return ie(this,void 0,void 0,function*(){const s=(i=(r=typeof e=="string"?e:e==null?void 0:e._id)!==null&&r!==void 0?r:this.last_message_id)!==null&&i!==void 0?i:Si(),o=()=>{delete this.ackLimit,this.client.api.put(`/channels/${this._id}/ack/${s}`)};if(!this.client.options.ackRateLimiter||n)return o();clearTimeout(this.ackTimeout),this.ackLimit&&+new Date>this.ackLimit&&o(),this.ackTimeout=setTimeout(o,5e3),this.ackLimit||(this.ackLimit=+new Date+15e3)})}setPermissions(e="default",n){return ie(this,void 0,void 0,function*(){return yield this.client.api.put(`/channels/${this._id}/permissions/${e}`,{permissions:n})})}startTyping(){this.client.websocket.send({type:"BeginTyping",channel:this._id})}stopTyping(){this.client.websocket.send({type:"EndTyping",channel:this._id})}generateIconURL(...e){var n,r,i;return this.channel_type==="DirectMessage"?this.client.generateFileURL((r=(n=this.recipient)===null||n===void 0?void 0:n.avatar)!==null&&r!==void 0?r:void 0,...e):this.client.generateFileURL((i=this.icon)!==null&&i!==void 0?i:void 0,...e)}get permission(){return Ii(this)}havePermission(...e){return Ho(this.permission,...e.map(n=>se[n]))}}tt([K],nt.prototype,"isUnread",null);tt([K],nt.prototype,"getMentions",null);tt([ee],nt.prototype,"update",null);tt([ee],nt.prototype,"updateGroupJoin",null);tt([ee],nt.prototype,"updateGroupLeave",null);tt([ee],nt.prototype,"updateStartTyping",null);tt([ee],nt.prototype,"updateStopTyping",null);tt([K],nt.prototype,"permission",null);tt([K],nt.prototype,"havePermission",null);let Eo=class extends Fn{constructor(e){super(e),this.createObj=this.createObj.bind(this)}$get(e,n){const r=this.get(e);return n&&r.update(n),r}exists(e){const n=this.get(e);if(n)switch(n.channel_type){case"DirectMessage":return n.active;default:return!0}else return!1}fetch(e,n){return ie(this,void 0,void 0,function*(){if(this.has(e))return this.$get(e);const r=n??(yield this.client.api.get(`/channels/${e}`));return this.createObj(r)})}createObj(e,n){if(this.has(e._id))return this.$get(e._id);const r=new nt(this.client,e);return H(()=>{this.set(e._id,r)}),n===!0&&this.client.emit("channel/create",r),r}createGroup(e){return ie(this,void 0,void 0,function*(){const n=yield this.client.api.post("/channels/create",e);return yield this.fetch(n._id,n)})}};tt([ee],Eo.prototype,"$get",null);var rt=globalThis&&globalThis.__decorate||function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},wa=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function f(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,f)}l((r=r.apply(t,e||[])).next())})};class it{constructor(e,n){this.nickname=null,this.avatar=null,this.roles=null,this.timeout=null,this.client=e,this._id=n._id,this.joined_at=new Date(n.joined_at),this.nickname=M(n.nickname),this.avatar=M(n.avatar),this.roles=M(n.roles),this.timeout=Ei(n.timeout),this.scheduleTimeout(),Ht(this,{_id:!1,client:!1})}get user(){return this.client.users.get(this._id.user)}get server(){return this.client.servers.get(this._id.server)}get inferior(){var e,n,r;return((r=(n=(e=this.server)===null||e===void 0?void 0:e.member)===null||n===void 0?void 0:n.ranking)!==null&&r!==void 0?r:1/0)<this.ranking}get kickable(){var e;return((e=this.server)===null||e===void 0?void 0:e.havePermission("KickMembers"))&&this.inferior}get bannable(){var e;return((e=this.server)===null||e===void 0?void 0:e.havePermission("BanMembers"))&&this.inferior}update(e,n=[]){const r=i=>{typeof e[i]<"u"&&!Tt(this[i],e[i])&&(this[i]=i==="timeout"?Ei(e[i]):e[i])};for(const i of n)switch(i){case"Nickname":this.nickname=null;break;case"Avatar":this.avatar=null;break;case"Roles":this.roles=[];break;case"Timeout":this.timeout=null;break}r("nickname"),r("avatar"),r("roles"),r("timeout"),this.scheduleTimeout()}scheduleTimeout(){if(delete this._timeout,clearTimeout(this._timeout),this.timeout){const e=+this.timeout-+new Date;e>0?this._timeout=setTimeout(()=>{H(()=>{this.timeout=null,delete this._timeout})},e):H(()=>{this.timeout=null})}}edit(e){return wa(this,void 0,void 0,function*(){return yield this.client.api.patch(`/servers/${this._id.server}/members/${this._id.user}`,e)})}kick(){return wa(this,void 0,void 0,function*(){return yield this.client.api.delete(`/servers/${this._id.server}/members/${this._id.user}`)})}get orderedRoles(){var e;const n=new Set(this.roles),r=this.server;return Object.keys((e=r.roles)!==null&&e!==void 0?e:{}).filter(i=>n.has(i)).map(i=>[i,r.roles[i]]).sort(([,i],[,s])=>s.rank-i.rank)}get hoistedRole(){const e=this.orderedRoles.filter(n=>n[1].hoist);if(e.length>0){const[n,r]=e[e.length-1];return Object.assign({id:n},r)}else return null}get roleColour(){const e=this.orderedRoles.filter(n=>n[1].colour);return e.length>0?e[e.length-1][1].colour:null}get ranking(){var e;if(this._id.user===((e=this.server)===null||e===void 0?void 0:e.owner))return-1/0;const n=this.orderedRoles;return n.length>0?n[n.length-1][1].rank:1/0}get avatarURL(){var e,n;return(e=this.generateAvatarURL({max_side:256}))!==null&&e!==void 0?e:(n=this.user)===null||n===void 0?void 0:n.avatarURL}get animatedAvatarURL(){var e,n;return(e=this.generateAvatarURL({max_side:256},!0))!==null&&e!==void 0?e:(n=this.user)===null||n===void 0?void 0:n.animatedAvatarURL}generateAvatarURL(...e){var n;return this.client.generateFileURL((n=this.avatar)!==null&&n!==void 0?n:void 0,...e)}getPermissions(e){return Ii(e,{member:this})}hasPermission(e,...n){return Ho(this.getPermissions(e),...n.map(r=>se[r]))}inferiorTo(e){return e.ranking<this.ranking}}rt([ee],it.prototype,"update",null);rt([K],it.prototype,"orderedRoles",null);rt([K],it.prototype,"hoistedRole",null);rt([K],it.prototype,"roleColour",null);rt([K],it.prototype,"ranking",null);rt([K],it.prototype,"generateAvatarURL",null);rt([K],it.prototype,"getPermissions",null);rt([K],it.prototype,"hasPermission",null);rt([K],it.prototype,"inferiorTo",null);class At extends Fn{constructor(e){super(e),this.createObj=this.createObj.bind(this)}static toKey(e){return JSON.stringify(e,Object.keys(e).sort())}hasKey(e){return super.has(At.toKey(e))}getKey(e){return super.get(At.toKey(e))}setKey(e,n){return super.set(At.toKey(e),n)}deleteKey(e){return super.delete(At.toKey(e))}$get(e,n){const r=this.getKey(e);return n&&r.update(n),r}createObj(e,n){if(this.hasKey(e._id))return this.$get(e._id,e);const r=new it(this.client,e);return H(()=>{this.setKey(e._id,r)}),n===!0&&this.client.emit("member/join",r),r}}rt([ee],At.prototype,"$get",null);var Lr=globalThis&&globalThis.__decorate||function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},cr=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function f(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,f)}l((r=r.apply(t,e||[])).next())})};class Nr{constructor(e,n){var r,i;this.client=e,this._id=n._id,this.nonce=(r=n.nonce)!==null&&r!==void 0?r:void 0,this.channel_id=n.channel,this.author_id=n.author,this.content=M(n.content),this.system=M(n.system),this.attachments=M(n.attachments),this.edited=Ei(n.edited),this.embeds=M(n.embeds),this.mention_ids=M(n.mentions),this.reply_ids=M(n.replies),this.masquerade=M(n.masquerade),this.interactions=M(n.interactions),this.reactions=new $r;for(const s of Object.keys((i=n.reactions)!==null&&i!==void 0?i:{}))this.reactions.set(s,new Di(n.reactions[s]));Ht(this,{_id:!1,client:!1})}get channel(){return this.client.channels.get(this.channel_id)}get author(){return this.client.users.get(this.author_id)}get member(){const e=this.channel;if((e==null?void 0:e.channel_type)==="TextChannel")return this.client.members.getKey({server:e.server_id,user:this.author_id})}get mentions(){var e;return(e=this.mention_ids)===null||e===void 0?void 0:e.map(n=>this.client.users.get(n))}get createdAt(){return Rn(this._id)}get path(){var e;return((e=this.channel)===null||e===void 0?void 0:e.path)+"/"+this._id}get url(){var e;return((e=this.client.configuration)===null||e===void 0?void 0:e.app)+this.path}get username(){var e,n,r,i,s;return(i=(n=(e=this.masquerade)===null||e===void 0?void 0:e.name)!==null&&n!==void 0?n:(r=this.member)===null||r===void 0?void 0:r.nickname)!==null&&i!==void 0?i:(s=this.author)===null||s===void 0?void 0:s.username}get roleColour(){var e,n,r;return(n=(e=this.masquerade)===null||e===void 0?void 0:e.colour)!==null&&n!==void 0?n:(r=this.member)===null||r===void 0?void 0:r.roleColour}get avatarURL(){var e,n,r;return(e=this.generateMasqAvatarURL())!==null&&e!==void 0?e:this.member?(n=this.member)===null||n===void 0?void 0:n.avatarURL:(r=this.author)===null||r===void 0?void 0:r.avatarURL}get animatedAvatarURL(){var e,n,r;return(e=this.generateMasqAvatarURL())!==null&&e!==void 0?e:this.member?(n=this.member)===null||n===void 0?void 0:n.animatedAvatarURL:(r=this.author)===null||r===void 0?void 0:r.animatedAvatarURL}generateMasqAvatarURL(){var e;const n=(e=this.masquerade)===null||e===void 0?void 0:e.avatar;return n?this.client.proxyFile(n):void 0}get asSystemMessage(){const e=this.system;if(!e)return{type:"none"};const{type:n}=e,r=i=>this.client.users.get(i);switch(e.type){case"text":return e;case"user_added":return{type:n,user:r(e.id),by:r(e.by)};case"user_remove":return{type:n,user:r(e.id),by:r(e.by)};case"user_joined":return{type:n,user:r(e.id)};case"user_left":return{type:n,user:r(e.id)};case"user_kicked":return{type:n,user:r(e.id)};case"user_banned":return{type:n,user:r(e.id)};case"channel_renamed":return{type:n,name:e.name,by:r(e.by)};case"channel_description_changed":return{type:n,by:r(e.by)};case"channel_icon_changed":return{type:n,by:r(e.by)};case"channel_ownership_changed":return{type:n,from:r(e.from),to:r(e.to)}}}update(e){const n=(r,i,s)=>{typeof e[r]<"u"&&!Tt(this[i??r],e[r])&&(this[i??r]=s?s(e[r]):e[r])};n("content"),n("attachments"),n("edited",void 0,Ei),n("embeds"),n("mentions","mention_ids"),n("masquerade"),n("reactions"),n("interactions")}append({embeds:e}){var n;e&&(this.embeds=[...(n=this.embeds)!==null&&n!==void 0?n:[],...e])}edit(e){return cr(this,void 0,void 0,function*(){return yield this.client.api.patch(`/channels/${this.channel_id}/messages/${this._id}`,e)})}delete(){return cr(this,void 0,void 0,function*(){return yield this.client.api.delete(`/channels/${this.channel_id}/messages/${this._id}`)})}ack(){var e;(e=this.channel)===null||e===void 0||e.ack(this)}reply(e,n=!0){var r;const i=typeof e=="string"?{content:e}:e;return(r=this.channel)===null||r===void 0?void 0:r.sendMessage(Object.assign(Object.assign({},i),{replies:[{id:this._id,mention:n}]}))}clearReactions(){return cr(this,void 0,void 0,function*(){return yield this.client.api.delete(`/channels/${this.channel_id}/messages/${this._id}/reactions`)})}react(e){return cr(this,void 0,void 0,function*(){return yield this.client.api.put(`/channels/${this.channel_id}/messages/${this._id}/reactions/${e}`)})}unreact(e){return cr(this,void 0,void 0,function*(){return yield this.client.api.delete(`/channels/${this.channel_id}/messages/${this._id}/reactions/${e}`)})}}Lr([K],Nr.prototype,"generateMasqAvatarURL",null);Lr([K],Nr.prototype,"asSystemMessage",null);Lr([ee],Nr.prototype,"update",null);Lr([ee],Nr.prototype,"append",null);class To extends Fn{constructor(e){super(e),this.createObj=this.createObj.bind(this)}$get(e,n){const r=this.get(e);return n&&r.update(n),r}createObj(e,n){if(this.has(e._id))return this.$get(e._id);const r=new Nr(this.client,e);return H(()=>{this.set(e._id,r)}),n===!0&&this.client.emit("message",r),r}}Lr([ee],To.prototype,"$get",null);var Ke=globalThis&&globalThis.__decorate||function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ae=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function f(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,f)}l((r=r.apply(t,e||[])).next())})};class Ne{constructor(e,n){this.description=null,this.channel_ids=[],this.categories=null,this.system_messages=null,this.roles=null,this.icon=null,this.banner=null,this.nsfw=null,this.flags=null,this.client=e,this._id=n._id,this.owner=n.owner,this.name=n.name,this.description=M(n.description),this.channel_ids=n.channels,this.categories=M(n.categories),this.system_messages=M(n.system_messages),this.roles=M(n.roles),this.default_permissions=n.default_permissions,this.icon=M(n.icon),this.banner=M(n.banner),this.nsfw=M(n.nsfw),this.flags=M(n.flags),Ht(this,{_id:!1,client:!1})}get channels(){return this.channel_ids.map(e=>this.client.channels.get(e)).filter(e=>e)}get createdAt(){return Rn(this._id)}get path(){return`/server/${this._id}`}get url(){var e;return((e=this.client.configuration)===null||e===void 0?void 0:e.app)+this.path}get orderedChannels(){const e=new Set(this.channel_ids.filter(i=>this.client.channels.has(i))),n=[];let r;if(this.categories)for(const i of this.categories){const s=[];for(const a of i.channels)e.delete(a)&&s.push(this.client.channels.get(a));const o=Object.assign(Object.assign({},i),{channels:s});if(o.id==="default"){if(s.length===0)continue;r=o}n.push(o)}if(e.size>0){const i=[...e].map(s=>this.client.channels.get(s));r?r.channels=[...r.channels,...i]:n.unshift({id:"default",title:"Default",channels:i})}return n}get orderedRoles(){var e;return Object.keys((e=this.roles)!==null&&e!==void 0?e:{}).map(n=>Object.assign({id:n},this.roles[n])).sort((n,r)=>(n.rank||0)-(r.rank||0))}isUnread(e){return e!=null&&e.isMuted(this)?!1:this.channels.find(n=>!(e!=null&&e.isMuted(n))&&(n==null?void 0:n.unread))}getMentions(e){if(e!=null&&e.isMuted(this))return[];const n=this.channels.filter(r=>!(e!=null&&e.isMuted(r))).map(r=>r==null?void 0:r.mentions);return[].concat(...n)}update(e,n=[]){const r=(i,s)=>{typeof e[i]<"u"&&!Tt(this[s??i],e[i])&&(this[s??i]=e[i])};for(const i of n)switch(i){case"Banner":this.banner=null;break;case"Description":this.description=null;break;case"Icon":this.icon=null;break}r("owner"),r("name"),r("description"),r("channels","channel_ids"),r("categories"),r("system_messages"),r("roles"),r("default_permissions"),r("icon"),r("banner"),r("nsfw"),r("flags")}createChannel(e){return ae(this,void 0,void 0,function*(){return yield this.client.api.post(`/servers/${this._id}/channels`,e)})}edit(e){return ae(this,void 0,void 0,function*(){return yield this.client.api.patch(`/servers/${this._id}`,e)})}delete(e,n){return ae(this,void 0,void 0,function*(){n||(yield this.client.api.delete(`/servers/${this._id}`,{leave_silently:e})),H(()=>{this.client.servers.delete(this._id)})})}ack(){return ae(this,void 0,void 0,function*(){return yield this.client.api.put(`/servers/${this._id}/ack`)})}banUser(e,n){return ae(this,void 0,void 0,function*(){return yield this.client.api.put(`/servers/${this._id}/bans/${e}`,n)})}unbanUser(e){return ae(this,void 0,void 0,function*(){return yield this.client.api.delete(`/servers/${this._id}/bans/${e}`)})}fetchInvites(){return ae(this,void 0,void 0,function*(){return yield this.client.api.get(`/servers/${this._id}/invites`)})}fetchBans(){return ae(this,void 0,void 0,function*(){return yield this.client.api.get(`/servers/${this._id}/bans`)})}setPermissions(e="default",n){return ae(this,void 0,void 0,function*(){return yield this.client.api.put(`/servers/${this._id}/permissions/${e}`,{permissions:n})})}createRole(e){return ae(this,void 0,void 0,function*(){return yield this.client.api.post(`/servers/${this._id}/roles`,{name:e})})}editRole(e,n){return ae(this,void 0,void 0,function*(){return yield this.client.api.patch(`/servers/${this._id}/roles/${e}`,n)})}deleteRole(e){return ae(this,void 0,void 0,function*(){return yield this.client.api.delete(`/servers/${this._id}/roles/${e}`)})}fetchMember(e){return ae(this,void 0,void 0,function*(){const n=typeof e=="string"?e:e._id,r=this.client.members.getKey({server:this._id,user:n});if(r)return r;const i=yield this.client.api.get(`/servers/${this._id}/members/${n}`);return this.client.members.createObj(i)})}syncMembers(e){return ae(this,void 0,void 0,function*(){const n=yield this.client.api.get(`/servers/${this._id}/members`,{exclude_offline:e});H(()=>{if(e)for(let r=0;r<n.users.length;r++){const i=n.users[r];i.online&&(this.client.users.createObj(i),this.client.members.createObj(n.members[r]))}else for(let r=0;r<n.users.length;r++)this.client.users.createObj(n.users[r]),this.client.members.createObj(n.members[r])})})}fetchMembers(){return ae(this,void 0,void 0,function*(){const e=yield this.client.api.get(`/servers/${this._id}/members`);return H(()=>({members:e.members.map(this.client.members.createObj),users:e.users.map(this.client.users.createObj)}))})}generateIconURL(...e){var n;return this.client.generateFileURL((n=this.icon)!==null&&n!==void 0?n:void 0,...e)}generateBannerURL(...e){var n;return this.client.generateFileURL((n=this.banner)!==null&&n!==void 0?n:void 0,...e)}get member(){return this.client.members.getKey({server:this._id,user:this.client.user._id})}get permission(){return Ii(this)}havePermission(...e){return Ho(this.permission,...e.map(n=>se[n]))}}Ke([K],Ne.prototype,"orderedChannels",null);Ke([K],Ne.prototype,"orderedRoles",null);Ke([K],Ne.prototype,"isUnread",null);Ke([K],Ne.prototype,"getMentions",null);Ke([ee],Ne.prototype,"update",null);Ke([K],Ne.prototype,"generateIconURL",null);Ke([K],Ne.prototype,"generateBannerURL",null);Ke([K],Ne.prototype,"member",null);Ke([K],Ne.prototype,"permission",null);Ke([K],Ne.prototype,"havePermission",null);class jo extends Fn{constructor(e){super(e),this.createObj=this.createObj.bind(this)}$get(e,n){const r=this.get(e);return n&&r.update(n),r}fetch(e,n,r){return ae(this,void 0,void 0,function*(){if(this.has(e))return this.$get(e,n);const i=n??(yield this.client.api.get(`/servers/${e}`));return H(()=>ae(this,void 0,void 0,function*(){if(r)for(const s of r)yield this.client.channels.fetch(s._id,s);else for(const s of i.channels)try{yield this.client.channels.fetch(s)}catch{}return this.createObj(i)}))})}createObj(e){if(this.has(e._id))return this.$get(e._id,e);const n=new Ne(this.client,e);return H(()=>{this.set(e._id,n)}),n}createServer(e){return ae(this,void 0,void 0,function*(){const{server:n,channels:r}=yield this.client.api.post("/servers/create",e);return yield this.fetch(n._id,n,r)})}}Ke([ee],jo.prototype,"$get",null);var Bi=globalThis&&globalThis.__decorate||function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Je=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function f(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,f)}l((r=r.apply(t,e||[])).next())})};class wr{constructor(e,n){var r,i;this.client=e,this._id=n._id,this.username=n.username,this.avatar=M(n.avatar),this.badges=M(n.badges),this.status=M(n.status),this.relationship=M(n.relationship),this.online=(r=n.online)!==null&&r!==void 0?r:!1,this.privileged=(i=n.privileged)!==null&&i!==void 0?i:!1,this.flags=M(n.flags),this.bot=M(n.bot),Ht(this,{_id:!1,client:!1})}get createdAt(){return Rn(this._id)}update(e,n=[]){const r=i=>{typeof e[i]<"u"&&!Tt(this[i],e[i])&&(this[i]=e[i],i==="relationship"&&this.client.emit("user/relationship",this))};for(const i of n)switch(i){case"Avatar":this.avatar=null;break;case"StatusText":this.status&&(this.status.text=void 0)}r("username"),r("avatar"),r("badges"),r("status"),r("relationship"),r("online"),r("privileged"),r("flags"),r("bot")}openDM(){return Je(this,void 0,void 0,function*(){let e=[...this.client.channels.values()].find(n=>n.channel_type==="DirectMessage"&&n.recipient==this);if(!e){const n=yield this.client.api.get(`/users/${this._id}/dm`);e=yield this.client.channels.fetch(n._id,n)}return H(()=>{e.active=!0}),e})}addFriend(){return Je(this,void 0,void 0,function*(){return yield this.client.api.post("/users/friend",{username:this.username})})}removeFriend(){return Je(this,void 0,void 0,function*(){return yield this.client.api.delete(`/users/${this._id}/friend`)})}blockUser(){return Je(this,void 0,void 0,function*(){return yield this.client.api.put(`/users/${this._id}/block`)})}unblockUser(){return Je(this,void 0,void 0,function*(){return yield this.client.api.delete(`/users/${this._id}/block`)})}fetchProfile(){return Je(this,void 0,void 0,function*(){return yield this.client.api.get(`/users/${this._id}/profile`)})}fetchMutual(){return Je(this,void 0,void 0,function*(){return yield this.client.api.get(`/users/${this._id}/mutual`)})}get defaultAvatarURL(){return`${this.client.apiURL}/users/${this._id}/default_avatar`}get avatarURL(){return this.generateAvatarURL({max_side:256})}get animatedAvatarURL(){return this.generateAvatarURL({max_side:256},!0)}generateAvatarURL(...e){var n,r;return(r=this.client.generateFileURL((n=this.avatar)!==null&&n!==void 0?n:void 0,...e))!==null&&r!==void 0?r:this.defaultAvatarURL}get permission(){var e;let n=0;switch(this.relationship){case"Friend":case"User":return xf;case"Blocked":case"BlockedOther":return dn.Access;case"Incoming":case"Outgoing":n=dn.Access}return([...this.client.channels.values()].find(r=>{var i;return(r.channel_type==="Group"||r.channel_type==="DirectMessage")&&((i=r.recipient_ids)===null||i===void 0?void 0:i.includes(this.client.user._id))})||[...this.client.members.values()].find(r=>r._id.user===this.client.user._id))&&((!((e=this.client.user)===null||e===void 0)&&e.bot||this.bot)&&(n|=dn.SendMessage),n|=dn.Access|dn.ViewProfile),n}}Bi([ee],wr.prototype,"update",null);Bi([K],wr.prototype,"generateAvatarURL",null);Bi([K],wr.prototype,"permission",null);class Ro extends Fn{constructor(e){super(e),this.createObj=this.createObj.bind(this),this.set("00000000000000000000000000",new wr(e,{_id:"00000000000000000000000000",username:"Revolt"}))}$get(e,n){const r=this.get(e);return n&&r.update(n),r}fetch(e,n){return Je(this,void 0,void 0,function*(){if(this.has(e))return this.$get(e,n);const r=n??(yield this.client.api.get(`/users/${e}`));return this.createObj(r)})}createObj(e){if(this.has(e._id))return this.$get(e._id,e);const n=new wr(this.client,e);return H(()=>{this.set(e._id,n)}),this.client.emit("user/relationship",n),n}edit(e){return Je(this,void 0,void 0,function*(){yield this.client.api.patch("/users/@me",e)})}changeUsername(e,n){return Je(this,void 0,void 0,function*(){return yield this.client.api.patch("/users/@me/username",{username:e,password:n})})}}Bi([ee],Ro.prototype,"$get",null);var Mf=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function f(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,f)}l((r=r.apply(t,e||[])).next())})};class Lf{constructor(e,n){var r,i;this.client=e,this._id=n._id,this.name=n.name,this.creator_id=n.creator_id,this.parent=n.parent,this.animated=(r=n.animated)!==null&&r!==void 0?r:!1,this.nsfw=(i=n.nsfw)!==null&&i!==void 0?i:!1,Ht(this,{_id:!1,client:!1})}get createdAt(){return Rn(this._id)}get creator(){return this.client.users.get(this.creator_id)}delete(){return Mf(this,void 0,void 0,function*(){return yield this.client.api.delete(`/custom/emoji/${this._id}`)})}get imageURL(){var e;return`${(e=this.client.configuration)===null||e===void 0?void 0:e.features.autumn.url}/emojis/${this._id}${this.animated?"":"?max_side=128"}`}}class Oa extends Fn{constructor(e){super(e),this.createObj=this.createObj.bind(this)}createObj(e,n){if(this.has(e._id))return this.get(e._id);const r=new Lf(this.client,e);return H(()=>{this.set(e._id,r)}),n===!0&&this.client.emit("emoji/create",r),r}}var xo={},Nf={get exports(){return xo},set exports(t){xo=t}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,l,u){this.fn=f,this.context=l,this.once=u||!1}function s(f,l,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new i(u,d||f,h),A=n?n+l:l;return f._events[A]?f._events[A].fn?f._events[A]=[f._events[A],m]:f._events[A].push(m):(f._events[A]=m,f._eventsCount++),f}function o(f,l){--f._eventsCount===0?f._events=new r:delete f._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],u,d;if(this._eventsCount===0)return l;for(d in u=this._events)e.call(u,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},a.prototype.listeners=function(l){var u=n?n+l:l,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,m=d.length,A=new Array(m);h<m;h++)A[h]=d[h].fn;return A},a.prototype.listenerCount=function(l){var u=n?n+l:l,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(l,u,d,h,m,A){var D=n?n+l:l;if(!this._events[D])return!1;var j=this._events[D],k=arguments.length,I,P;if(j.fn){switch(j.once&&this.removeListener(l,j.fn,void 0,!0),k){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,u),!0;case 3:return j.fn.call(j.context,u,d),!0;case 4:return j.fn.call(j.context,u,d,h),!0;case 5:return j.fn.call(j.context,u,d,h,m),!0;case 6:return j.fn.call(j.context,u,d,h,m,A),!0}for(P=1,I=new Array(k-1);P<k;P++)I[P-1]=arguments[P];j.fn.apply(j.context,I)}else{var T=j.length,b;for(P=0;P<T;P++)switch(j[P].once&&this.removeListener(l,j[P].fn,void 0,!0),k){case 1:j[P].fn.call(j[P].context);break;case 2:j[P].fn.call(j[P].context,u);break;case 3:j[P].fn.call(j[P].context,u,d);break;case 4:j[P].fn.call(j[P].context,u,d,h);break;default:if(!I)for(b=1,I=new Array(k-1);b<k;b++)I[b-1]=arguments[b];j[P].fn.apply(j[P].context,I)}}return!0},a.prototype.on=function(l,u,d){return s(this,l,u,d,!1)},a.prototype.once=function(l,u,d){return s(this,l,u,d,!0)},a.prototype.removeListener=function(l,u,d,h){var m=n?n+l:l;if(!this._events[m])return this;if(!u)return o(this,m),this;var A=this._events[m];if(A.fn)A.fn===u&&(!h||A.once)&&(!d||A.context===d)&&o(this,m);else{for(var D=0,j=[],k=A.length;D<k;D++)(A[D].fn!==u||h&&!A[D].once||d&&A[D].context!==d)&&j.push(A[D]);j.length?this._events[m]=j.length===1?j[0]:j:o(this,m)}return this},a.prototype.removeAllListeners=function(l){var u;return l?(u=n?n+l:l,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(Nf);var Cn={},Pf={get exports(){return Cn},set exports(t){Cn=t}};(function(t,e){var n=200,r="__lodash_hash_undefined__",i=800,s=16,o=9007199254740991,a="[object Arguments]",f="[object Array]",l="[object AsyncFunction]",u="[object Boolean]",d="[object Date]",h="[object Error]",m="[object Function]",A="[object GeneratorFunction]",D="[object Map]",j="[object Number]",k="[object Null]",I="[object Object]",P="[object Proxy]",T="[object RegExp]",b="[object Set]",C="[object String]",ne="[object Undefined]",xt="[object WeakMap]",vt="[object ArrayBuffer]",ue="[object DataView]",Pe="[object Float32Array]",pe="[object Float64Array]",qn="[object Int8Array]",Ct="[object Int16Array]",Hi="[object Int32Array]",Wi="[object Uint8Array]",ki="[object Uint8ClampedArray]",Ji="[object Uint16Array]",Xi="[object Uint32Array]",Zi=/[\\^$.*+?()[\]{}|]/g,Yi=/^\[object .+?Constructor\]$/,Qi=/^(?:0|[1-9]\d*)$/,J={};J[Pe]=J[pe]=J[qn]=J[Ct]=J[Hi]=J[Wi]=J[ki]=J[Ji]=J[Xi]=!0,J[a]=J[f]=J[vt]=J[u]=J[ue]=J[d]=J[h]=J[m]=J[D]=J[j]=J[I]=J[T]=J[b]=J[C]=J[xt]=!1;var Dr=typeof Ot=="object"&&Ot&&Ot.Object===Object&&Ot,X=typeof self=="object"&&self&&self.Object===Object&&self,_t=Dr||X||Function("return this")(),Fr=e&&!e.nodeType&&e,he=Fr&&!0&&t&&!t.nodeType&&t,Vn=he&&he.exports===Fr,Jt=Vn&&Dr.process,Gn=function(){try{var c=he&&he.require&&he.require("util").types;return c||Jt&&Jt.binding&&Jt.binding("util")}catch{}}(),Xt=Gn&&Gn.isTypedArray;function Kn(c,v,g){switch(g.length){case 0:return c.call(v);case 1:return c.call(v,g[0]);case 2:return c.call(v,g[0],g[1]);case 3:return c.call(v,g[0],g[1],g[2])}return c.apply(v,g)}function Ir(c,v){for(var g=-1,O=Array(c);++g<c;)O[g]=v(g);return O}function es(c){return function(v){return c(v)}}function ts(c,v){return c==null?void 0:c[v]}function ns(c,v){return function(g){return c(v(g))}}var rs=Array.prototype,is=Function.prototype,Zt=Object.prototype,zn=_t["__core-js_shared__"],Yt=is.toString,Ue=Zt.hasOwnProperty,Br=function(){var c=/[^.]+$/.exec(zn&&zn.keys&&zn.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),qr=Zt.toString,ss=Yt.call(Object),Qt=RegExp("^"+Yt.call(Ue).replace(Zi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),gt=Vn?_t.Buffer:void 0,Hn=_t.Symbol,Ae=_t.Uint8Array,Wn=gt?gt.allocUnsafe:void 0,kn=ns(Object.getPrototypeOf,Object),Vr=Object.create,Gr=Zt.propertyIsEnumerable,en=rs.splice,ze=Hn?Hn.toStringTag:void 0,$t=function(){try{var c=rr(Object,"defineProperty");return c({},"",{}),c}catch{}}(),os=gt?gt.isBuffer:void 0,He=Math.max,Kr=Date.now,zr=rr(_t,"Map"),Mt=rr(Object,"create"),Jn=function(){function c(){}return function(v){if(!Re(v))return{};if(Vr)return Vr(v);c.prototype=v;var g=new c;return c.prototype=void 0,g}}();function Se(c){var v=-1,g=c==null?0:c.length;for(this.clear();++v<g;){var O=c[v];this.set(O[0],O[1])}}function Xn(){this.__data__=Mt?Mt(null):{},this.size=0}function Zn(c){var v=this.has(c)&&delete this.__data__[c];return this.size-=v?1:0,v}function Yn(c){var v=this.__data__;if(Mt){var g=v[c];return g===r?void 0:g}return Ue.call(v,c)?v[c]:void 0}function Lt(c){var v=this.__data__;return Mt?v[c]!==void 0:Ue.call(v,c)}function as(c,v){var g=this.__data__;return this.size+=this.has(c)?0:1,g[c]=Mt&&v===void 0?r:v,this}Se.prototype.clear=Xn,Se.prototype.delete=Zn,Se.prototype.get=Yn,Se.prototype.has=Lt,Se.prototype.set=as;function De(c){var v=-1,g=c==null?0:c.length;for(this.clear();++v<g;){var O=c[v];this.set(O[0],O[1])}}function us(){this.__data__=[],this.size=0}function ls(c){var v=this.__data__,g=tn(v,c);if(g<0)return!1;var O=v.length-1;return g==O?v.pop():en.call(v,g,1),--this.size,!0}function cs(c){var v=this.__data__,g=tn(v,c);return g<0?void 0:v[g][1]}function Hr(c){return tn(this.__data__,c)>-1}function Qn(c,v){var g=this.__data__,O=tn(g,c);return O<0?(++this.size,g.push([c,v])):g[O][1]=v,this}De.prototype.clear=us,De.prototype.delete=ls,De.prototype.get=cs,De.prototype.has=Hr,De.prototype.set=Qn;function ve(c){var v=-1,g=c==null?0:c.length;for(this.clear();++v<g;){var O=c[v];this.set(O[0],O[1])}}function fs(){this.size=0,this.__data__={hash:new Se,map:new(zr||De),string:new Se}}function hs(c){var v=rn(this,c).delete(c);return this.size-=v?1:0,v}function ds(c){return rn(this,c).get(c)}function ps(c){return rn(this,c).has(c)}function vs(c,v){var g=rn(this,c),O=g.size;return g.set(c,v),this.size+=g.size==O?0:1,this}ve.prototype.clear=fs,ve.prototype.delete=hs,ve.prototype.get=ds,ve.prototype.has=ps,ve.prototype.set=vs;function ce(c){var v=this.__data__=new De(c);this.size=v.size}function _s(){this.__data__=new De,this.size=0}function gs(c){var v=this.__data__,g=v.delete(c);return this.size=v.size,g}function ms(c){return this.__data__.get(c)}function bs(c){return this.__data__.has(c)}function ys(c,v){var g=this.__data__;if(g instanceof De){var O=g.__data__;if(!zr||O.length<n-1)return O.push([c,v]),this.size=++g.size,this;g=this.__data__=new ve(O)}return g.set(c,v),this.size=g.size,this}ce.prototype.clear=_s,ce.prototype.delete=gs,ce.prototype.get=ms,ce.prototype.has=bs,ce.prototype.set=ys;function ot(c,v){var g=sr(c),O=!g&&on(c),x=!g&&!O&&an(c),R=!g&&!O&&!x&&ur(c),U=g||O||x||R,$=U?Ir(c.length,String):[],N=$.length;for(var te in c)(v||Ue.call(c,te))&&!(U&&(te=="length"||x&&(te=="offset"||te=="parent")||R&&(te=="buffer"||te=="byteLength"||te=="byteOffset")||Qr(te,N)))&&$.push(te);return $}function er(c,v,g){(g!==void 0&&!je(c[v],g)||g===void 0&&!(v in c))&&tr(c,v,g)}function ws(c,v,g){var O=c[v];(!(Ue.call(c,v)&&je(O,g))||g===void 0&&!(v in c))&&tr(c,v,g)}function tn(c,v){for(var g=c.length;g--;)if(je(c[g][0],v))return g;return-1}function tr(c,v,g){v=="__proto__"&&$t?$t(c,v,{configurable:!0,enumerable:!0,value:g,writable:!0}):c[v]=g}var Os=xs();function at(c){return c==null?c===void 0?ne:k:ze&&ze in Object(c)?Yr(c):ke(c)}function Wr(c){return yt(c)&&at(c)==a}function As(c){if(!Re(c)||mt(c))return!1;var v=or(c)?Qt:Yi;return v.test(Ps(c))}function We(c){return yt(c)&&ar(c.length)&&!!J[at(c)]}function Ss(c){if(!Re(c))return $s(c);var v=ti(c),g=[];for(var O in c)O=="constructor"&&(v||!Ue.call(c,O))||g.push(O);return g}function nr(c,v,g,O,x){c!==v&&Os(v,function(R,U){if(x||(x=new ce),Re(R))Es(c,v,U,g,nr,O,x);else{var $=O?O(ir(c,U),R,U+"",c,v,x):void 0;$===void 0&&($=R),er(c,U,$)}},ni)}function Es(c,v,g,O,x,R,U){var $=ir(c,g),N=ir(v,g),te=U.get(N);if(te){er(c,g,te);return}var Q=R?R($,N,g+"",c,v,U):void 0,_e=Q===void 0;if(_e){var Ee=sr(N),Fe=!Ee&&an(N),lr=!Ee&&!Fe&&ur(N);Q=N,Ee||Fe||lr?sr($)?Q=$:Us($)?Q=Nt($):Fe?(_e=!1,Q=js(N,!0)):lr?(_e=!1,Q=Rs(N,!0)):Q=[]:Pt(N)||on(N)?(Q=$,on($)?Q=Ds($):(!Re($)||or($))&&(Q=Cs(N))):_e=!1}_e&&(U.set(N,Q),x(Q,N,O,R,U),U.delete(N)),er(c,g,Q)}function kr(c,v){return Ls(Ms(c,v,y),c+"")}var Ts=$t?function(c,v){return $t(c,"toString",{configurable:!0,enumerable:!1,value:_(v),writable:!0})}:y;function js(c,v){if(v)return c.slice();var g=c.length,O=Wn?Wn(g):new c.constructor(g);return c.copy(O),O}function nn(c){var v=new c.constructor(c.byteLength);return new Ae(v).set(new Ae(c)),v}function Rs(c,v){var g=v?nn(c.buffer):c.buffer;return new c.constructor(g,c.byteOffset,c.length)}function Nt(c,v){var g=-1,O=c.length;for(v||(v=Array(O));++g<O;)v[g]=c[g];return v}function Jr(c,v,g,O){var x=!g;g||(g={});for(var R=-1,U=v.length;++R<U;){var $=v[R],N=O?O(g[$],c[$],$,g,c):void 0;N===void 0&&(N=c[$]),x?tr(g,$,N):ws(g,$,N)}return g}function Xr(c){return kr(function(v,g){var O=-1,x=g.length,R=x>1?g[x-1]:void 0,U=x>2?g[2]:void 0;for(R=c.length>3&&typeof R=="function"?(x--,R):void 0,U&&ei(g[0],g[1],U)&&(R=x<3?void 0:R,x=1),v=Object(v);++O<x;){var $=g[O];$&&c(v,$,O,R)}return v})}function xs(c){return function(v,g,O){for(var x=-1,R=Object(v),U=O(v),$=U.length;$--;){var N=U[c?$:++x];if(g(R[N],N,R)===!1)break}return v}}function Zr(c,v,g,O,x,R){return Re(c)&&Re(v)&&(R.set(v,c),nr(c,v,void 0,Zr,R),R.delete(v)),c}function rn(c,v){var g=c.__data__;return sn(v)?g[typeof v=="string"?"string":"hash"]:g.map}function rr(c,v){var g=ts(c,v);return As(g)?g:void 0}function Yr(c){var v=Ue.call(c,ze),g=c[ze];try{c[ze]=void 0;var O=!0}catch{}var x=qr.call(c);return O&&(v?c[ze]=g:delete c[ze]),x}function Cs(c){return typeof c.constructor=="function"&&!ti(c)?Jn(kn(c)):{}}function Qr(c,v){var g=typeof c;return v=v??o,!!v&&(g=="number"||g!="symbol"&&Qi.test(c))&&c>-1&&c%1==0&&c<v}function ei(c,v,g){if(!Re(g))return!1;var O=typeof v;return(O=="number"?bt(g)&&Qr(v,g.length):O=="string"&&v in g)?je(g[v],c):!1}function sn(c){var v=typeof c;return v=="string"||v=="number"||v=="symbol"||v=="boolean"?c!=="__proto__":c===null}function mt(c){return!!Br&&Br in c}function ti(c){var v=c&&c.constructor,g=typeof v=="function"&&v.prototype||Zt;return c===g}function $s(c){var v=[];if(c!=null)for(var g in Object(c))v.push(g);return v}function ke(c){return qr.call(c)}function Ms(c,v,g){return v=He(v===void 0?c.length-1:v,0),function(){for(var O=arguments,x=-1,R=He(O.length-v,0),U=Array(R);++x<R;)U[x]=O[v+x];x=-1;for(var $=Array(v+1);++x<v;)$[x]=O[x];return $[v]=g(U),Kn(c,this,$)}}function ir(c,v){if(!(v==="constructor"&&typeof c[v]=="function")&&v!="__proto__")return c[v]}var Ls=Ns(Ts);function Ns(c){var v=0,g=0;return function(){var O=Kr(),x=s-(O-g);if(g=O,x>0){if(++v>=i)return arguments[0]}else v=0;return c.apply(void 0,arguments)}}function Ps(c){if(c!=null){try{return Yt.call(c)}catch{}try{return c+""}catch{}}return""}function je(c,v){return c===v||c!==c&&v!==v}var on=Wr(function(){return arguments}())?Wr:function(c){return yt(c)&&Ue.call(c,"callee")&&!Gr.call(c,"callee")},sr=Array.isArray;function bt(c){return c!=null&&ar(c.length)&&!or(c)}function Us(c){return yt(c)&&bt(c)}var an=os||S;function or(c){if(!Re(c))return!1;var v=at(c);return v==m||v==A||v==l||v==P}function ar(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=o}function Re(c){var v=typeof c;return c!=null&&(v=="object"||v=="function")}function yt(c){return c!=null&&typeof c=="object"}function Pt(c){if(!yt(c)||at(c)!=I)return!1;var v=kn(c);if(v===null)return!0;var g=Ue.call(v,"constructor")&&v.constructor;return typeof g=="function"&&g instanceof g&&Yt.call(g)==ss}var ur=Xt?es(Xt):We;function Ds(c){return Jr(c,ni(c))}var Fs=kr(function(c){return c.push(void 0,Zr),Kn(p,void 0,c)});function ni(c){return bt(c)?ot(c,!0):Ss(c)}var p=Xr(function(c,v,g,O){nr(c,v,g,O)});function _(c){return function(){return c}}function y(c){return c}function S(){return!1}t.exports=Fs})(Pf,Cn);var Co={},Uf={get exports(){return Co},set exports(t){Co=t}},ji={},Df={get exports(){return ji},set exports(t){ji=t}},pl=function(e,n){return function(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];return e.apply(n,i)}},Ff=pl,Rt=Object.prototype.toString;function Wo(t){return Array.isArray(t)}function $o(t){return typeof t>"u"}function If(t){return t!==null&&!$o(t)&&t.constructor!==null&&!$o(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function vl(t){return Rt.call(t)==="[object ArrayBuffer]"}function Bf(t){return Rt.call(t)==="[object FormData]"}function qf(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&vl(t.buffer),e}function Vf(t){return typeof t=="string"}function Gf(t){return typeof t=="number"}function _l(t){return t!==null&&typeof t=="object"}function hi(t){if(Rt.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function Kf(t){return Rt.call(t)==="[object Date]"}function zf(t){return Rt.call(t)==="[object File]"}function Hf(t){return Rt.call(t)==="[object Blob]"}function gl(t){return Rt.call(t)==="[object Function]"}function Wf(t){return _l(t)&&gl(t.pipe)}function kf(t){return Rt.call(t)==="[object URLSearchParams]"}function Jf(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Xf(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function ko(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),Wo(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function Mo(){var t={};function e(i,s){hi(t[s])&&hi(i)?t[s]=Mo(t[s],i):hi(i)?t[s]=Mo({},i):Wo(i)?t[s]=i.slice():t[s]=i}for(var n=0,r=arguments.length;n<r;n++)ko(arguments[n],e);return t}function Zf(t,e,n){return ko(e,function(i,s){n&&typeof i=="function"?t[s]=Ff(i,n):t[s]=i}),t}function Yf(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var Oe={isArray:Wo,isArrayBuffer:vl,isBuffer:If,isFormData:Bf,isArrayBufferView:qf,isString:Vf,isNumber:Gf,isObject:_l,isPlainObject:hi,isUndefined:$o,isDate:Kf,isFile:zf,isBlob:Hf,isFunction:gl,isStream:Wf,isURLSearchParams:kf,isStandardBrowserEnv:Xf,forEach:ko,merge:Mo,extend:Zf,trim:Jf,stripBOM:Yf},ln=Oe;function Aa(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var ml=function(e,n,r){if(!n)return e;var i;if(r)i=r(n);else if(ln.isURLSearchParams(n))i=n.toString();else{var s=[];ln.forEach(n,function(f,l){f===null||typeof f>"u"||(ln.isArray(f)?l=l+"[]":f=[f],ln.forEach(f,function(d){ln.isDate(d)?d=d.toISOString():ln.isObject(d)&&(d=JSON.stringify(d)),s.push(Aa(l)+"="+Aa(d))}))}),i=s.join("&")}if(i){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},Qf=Oe;function qi(){this.handlers=[]}qi.prototype.use=function(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};qi.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};qi.prototype.forEach=function(e){Qf.forEach(this.handlers,function(r){r!==null&&e(r)})};var eh=qi,th=Oe,nh=function(e,n){th.forEach(e,function(i,s){s!==n&&s.toUpperCase()===n.toUpperCase()&&(e[n]=i,delete e[s])})},bl=function(e,n,r,i,s){return e.config=n,r&&(e.code=r),e.request=i,e.response=s,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},yl={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ws,Sa;function wl(){if(Sa)return Ws;Sa=1;var t=bl;return Ws=function(n,r,i,s,o){var a=new Error(n);return t(a,r,i,s,o)},Ws}var ks,Ea;function rh(){if(Ea)return ks;Ea=1;var t=wl();return ks=function(n,r,i){var s=i.config.validateStatus;!i.status||!s||s(i.status)?n(i):r(t("Request failed with status code "+i.status,i.config,null,i.request,i))},ks}var Js,Ta;function ih(){if(Ta)return Js;Ta=1;var t=Oe;return Js=t.isStandardBrowserEnv()?function(){return{write:function(r,i,s,o,a,f){var l=[];l.push(r+"="+encodeURIComponent(i)),t.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),t.isString(o)&&l.push("path="+o),t.isString(a)&&l.push("domain="+a),f===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(r){var i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Js}var Xs,ja;function sh(){return ja||(ja=1,Xs=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}),Xs}var Zs,Ra;function oh(){return Ra||(Ra=1,Zs=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e}),Zs}var Ys,xa;function ah(){if(xa)return Ys;xa=1;var t=sh(),e=oh();return Ys=function(r,i){return r&&!t(i)?e(r,i):i},Ys}var Qs,Ca;function uh(){if(Ca)return Qs;Ca=1;var t=Oe,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Qs=function(r){var i={},s,o,a;return r&&t.forEach(r.split(`
`),function(l){if(a=l.indexOf(":"),s=t.trim(l.substr(0,a)).toLowerCase(),o=t.trim(l.substr(a+1)),s){if(i[s]&&e.indexOf(s)>=0)return;s==="set-cookie"?i[s]=(i[s]?i[s]:[]).concat([o]):i[s]=i[s]?i[s]+", "+o:o}}),i},Qs}var eo,$a;function lh(){if($a)return eo;$a=1;var t=Oe;return eo=t.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),i;function s(o){var a=o;return n&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=s(window.location.href),function(a){var f=t.isString(a)?s(a):a;return f.protocol===i.protocol&&f.host===i.host}}():function(){return function(){return!0}}(),eo}var to,Ma;function Vi(){if(Ma)return to;Ma=1;function t(e){this.message=e}return t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,to=t,to}var no,La;function Na(){if(La)return no;La=1;var t=Oe,e=rh(),n=ih(),r=ml,i=ah(),s=uh(),o=lh(),a=wl(),f=yl,l=Vi();return no=function(d){return new Promise(function(m,A){var D=d.data,j=d.headers,k=d.responseType,I;function P(){d.cancelToken&&d.cancelToken.unsubscribe(I),d.signal&&d.signal.removeEventListener("abort",I)}t.isFormData(D)&&delete j["Content-Type"];var T=new XMLHttpRequest;if(d.auth){var b=d.auth.username||"",C=d.auth.password?unescape(encodeURIComponent(d.auth.password)):"";j.Authorization="Basic "+btoa(b+":"+C)}var ne=i(d.baseURL,d.url);T.open(d.method.toUpperCase(),r(ne,d.params,d.paramsSerializer),!0),T.timeout=d.timeout;function xt(){if(T){var ue="getAllResponseHeaders"in T?s(T.getAllResponseHeaders()):null,Pe=!k||k==="text"||k==="json"?T.responseText:T.response,pe={data:Pe,status:T.status,statusText:T.statusText,headers:ue,config:d,request:T};e(function(Ct){m(Ct),P()},function(Ct){A(Ct),P()},pe),T=null}}if("onloadend"in T?T.onloadend=xt:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(xt)},T.onabort=function(){T&&(A(a("Request aborted",d,"ECONNABORTED",T)),T=null)},T.onerror=function(){A(a("Network Error",d,null,T)),T=null},T.ontimeout=function(){var Pe=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded",pe=d.transitional||f;d.timeoutErrorMessage&&(Pe=d.timeoutErrorMessage),A(a(Pe,d,pe.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",T)),T=null},t.isStandardBrowserEnv()){var vt=(d.withCredentials||o(ne))&&d.xsrfCookieName?n.read(d.xsrfCookieName):void 0;vt&&(j[d.xsrfHeaderName]=vt)}"setRequestHeader"in T&&t.forEach(j,function(Pe,pe){typeof D>"u"&&pe.toLowerCase()==="content-type"?delete j[pe]:T.setRequestHeader(pe,Pe)}),t.isUndefined(d.withCredentials)||(T.withCredentials=!!d.withCredentials),k&&k!=="json"&&(T.responseType=d.responseType),typeof d.onDownloadProgress=="function"&&T.addEventListener("progress",d.onDownloadProgress),typeof d.onUploadProgress=="function"&&T.upload&&T.upload.addEventListener("progress",d.onUploadProgress),(d.cancelToken||d.signal)&&(I=function(ue){T&&(A(!ue||ue&&ue.type?new l("canceled"):ue),T.abort(),T=null)},d.cancelToken&&d.cancelToken.subscribe(I),d.signal&&(d.signal.aborted?I():d.signal.addEventListener("abort",I))),D||(D=null),T.send(D)})},no}var le=Oe,Pa=nh,ch=bl,fh=yl,hh={"Content-Type":"application/x-www-form-urlencoded"};function Ua(t,e){!le.isUndefined(t)&&le.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function dh(){var t;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(t=Na()),t}function ph(t,e,n){if(le.isString(t))try{return(e||JSON.parse)(t),le.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}var Gi={transitional:fh,adapter:dh(),transformRequest:[function(e,n){return Pa(n,"Accept"),Pa(n,"Content-Type"),le.isFormData(e)||le.isArrayBuffer(e)||le.isBuffer(e)||le.isStream(e)||le.isFile(e)||le.isBlob(e)?e:le.isArrayBufferView(e)?e.buffer:le.isURLSearchParams(e)?(Ua(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):le.isObject(e)||n&&n["Content-Type"]==="application/json"?(Ua(n,"application/json"),ph(e)):e}],transformResponse:[function(e){var n=this.transitional||Gi.transitional,r=n&&n.silentJSONParsing,i=n&&n.forcedJSONParsing,s=!r&&this.responseType==="json";if(s||i&&le.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(s)throw o.name==="SyntaxError"?ch(o,this,"E_JSON_PARSE"):o}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};le.forEach(["delete","get","head"],function(e){Gi.headers[e]={}});le.forEach(["post","put","patch"],function(e){Gi.headers[e]=le.merge(hh)});var Jo=Gi,vh=Oe,_h=Jo,gh=function(e,n,r){var i=this||_h;return vh.forEach(r,function(o){e=o.call(i,e,n)}),e},ro,Da;function Ol(){return Da||(Da=1,ro=function(e){return!!(e&&e.__CANCEL__)}),ro}var Fa=Oe,io=gh,mh=Ol(),bh=Jo,yh=Vi();function so(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new yh("canceled")}var wh=function(e){so(e),e.headers=e.headers||{},e.data=io.call(e,e.data,e.headers,e.transformRequest),e.headers=Fa.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),Fa.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var n=e.adapter||bh.adapter;return n(e).then(function(i){return so(e),i.data=io.call(e,i.data,i.headers,e.transformResponse),i},function(i){return mh(i)||(so(e),i&&i.response&&(i.response.data=io.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},Te=Oe,Al=function(e,n){n=n||{};var r={};function i(u,d){return Te.isPlainObject(u)&&Te.isPlainObject(d)?Te.merge(u,d):Te.isPlainObject(d)?Te.merge({},d):Te.isArray(d)?d.slice():d}function s(u){if(Te.isUndefined(n[u])){if(!Te.isUndefined(e[u]))return i(void 0,e[u])}else return i(e[u],n[u])}function o(u){if(!Te.isUndefined(n[u]))return i(void 0,n[u])}function a(u){if(Te.isUndefined(n[u])){if(!Te.isUndefined(e[u]))return i(void 0,e[u])}else return i(void 0,n[u])}function f(u){if(u in n)return i(e[u],n[u]);if(u in e)return i(void 0,e[u])}var l={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:f};return Te.forEach(Object.keys(e).concat(Object.keys(n)),function(d){var h=l[d]||s,m=h(d);Te.isUndefined(m)&&h!==f||(r[d]=m)}),r},oo,Ia;function Sl(){return Ia||(Ia=1,oo={version:"0.26.1"}),oo}var Oh=Sl().version,Xo={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){Xo[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});var Ba={};Xo.transitional=function(e,n,r){function i(s,o){return"[Axios v"+Oh+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return function(s,o,a){if(e===!1)throw new Error(i(o," has been removed"+(n?" in "+n:"")));return n&&!Ba[o]&&(Ba[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function Ah(t,e,n){if(typeof t!="object")throw new TypeError("options must be an object");for(var r=Object.keys(t),i=r.length;i-- >0;){var s=r[i],o=e[s];if(o){var a=t[s],f=a===void 0||o(a,s,t);if(f!==!0)throw new TypeError("option "+s+" must be "+f);continue}if(n!==!0)throw Error("Unknown option "+s)}}var Sh={assertOptions:Ah,validators:Xo},El=Oe,Eh=ml,qa=eh,Va=wh,Ki=Al,Tl=Sh,cn=Tl.validators;function Pr(t){this.defaults=t,this.interceptors={request:new qa,response:new qa}}Pr.prototype.request=function(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ki(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var r=n.transitional;r!==void 0&&Tl.assertOptions(r,{silentJSONParsing:cn.transitional(cn.boolean),forcedJSONParsing:cn.transitional(cn.boolean),clarifyTimeoutError:cn.transitional(cn.boolean)},!1);var i=[],s=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(s=s&&m.synchronous,i.unshift(m.fulfilled,m.rejected))});var o=[];this.interceptors.response.forEach(function(m){o.push(m.fulfilled,m.rejected)});var a;if(!s){var f=[Va,void 0];for(Array.prototype.unshift.apply(f,i),f=f.concat(o),a=Promise.resolve(n);f.length;)a=a.then(f.shift(),f.shift());return a}for(var l=n;i.length;){var u=i.shift(),d=i.shift();try{l=u(l)}catch(h){d(h);break}}try{a=Va(l)}catch(h){return Promise.reject(h)}for(;o.length;)a=a.then(o.shift(),o.shift());return a};Pr.prototype.getUri=function(e){return e=Ki(this.defaults,e),Eh(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};El.forEach(["delete","get","head","options"],function(e){Pr.prototype[e]=function(n,r){return this.request(Ki(r||{},{method:e,url:n,data:(r||{}).data}))}});El.forEach(["post","put","patch"],function(e){Pr.prototype[e]=function(n,r,i){return this.request(Ki(i||{},{method:e,url:n,data:r}))}});var Th=Pr,ao,Ga;function jh(){if(Ga)return ao;Ga=1;var t=Vi();function e(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(o){r=o});var i=this;this.promise.then(function(s){if(i._listeners){var o,a=i._listeners.length;for(o=0;o<a;o++)i._listeners[o](s);i._listeners=null}}),this.promise.then=function(s){var o,a=new Promise(function(f){i.subscribe(f),o=f}).then(s);return a.cancel=function(){i.unsubscribe(o)},a},n(function(o){i.reason||(i.reason=new t(o),r(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]},e.prototype.unsubscribe=function(r){if(this._listeners){var i=this._listeners.indexOf(r);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var r,i=new e(function(o){r=o});return{token:i,cancel:r}},ao=e,ao}var uo,Ka;function Rh(){return Ka||(Ka=1,uo=function(e){return function(r){return e.apply(null,r)}}),uo}var lo,za;function xh(){if(za)return lo;za=1;var t=Oe;return lo=function(n){return t.isObject(n)&&n.isAxiosError===!0},lo}var Ha=Oe,Ch=pl,di=Th,$h=Al,Mh=Jo;function jl(t){var e=new di(t),n=Ch(di.prototype.request,e);return Ha.extend(n,di.prototype,e),Ha.extend(n,e),n.create=function(i){return jl($h(t,i))},n}var st=jl(Mh);st.Axios=di;st.Cancel=Vi();st.CancelToken=jh();st.isCancel=Ol();st.VERSION=Sl().version;st.all=function(e){return Promise.all(e)};st.spread=Rh();st.isAxiosError=xh();Df.exports=st;ji.default=st;(function(t){t.exports=ji})(Uf);const Lh=Of(Co),Nh="https://api.revolt.chat",Ph={1:[[""]],2:[["users","@me"],["users",["{target}"]],["users","dms"],["users","friend"],["bots","create"],["bots",["{target}"]],["bots","@me"],["channels",["{target}"]],["channels","create"],["servers","create"],["servers",["{target}"]],["invites",["{target}"]],["onboard","hello"],["onboard","complete"],["push","subscribe"],["push","unsubscribe"],["sync","unreads"]],3:[["users","@me","username"],["users",["{target}"],"default_avatar"],["users",["{target}"],"profile"],["users",["{target}"],"dm"],["users",["{target}"],"mutual"],["users",["{target}"],"friend"],["users",["{target}"],"block"],["bots",["{target}"],"invite"],["channels",["{target}"],"members"],["channels",["{target}"],"invites"],["channels",["{target}"],"messages"],["channels",["{target}"],"search"],["channels",["{target}"],"join_call"],["servers",["{target}"],"ack"],["servers",["{target}"],"channels"],["servers",["{target}"],"members"],["servers",["{target}"],"bans"],["servers",["{target}"],"invites"],["servers",["{target}"],"roles"],["servers",["{target}"],"emojis"],["custom","emoji",["{id}"]],["auth","account","create"],["auth","account","reverify"],["auth","account","delete"],["auth","account",""],["auth","account","disable"],["auth","account","reset_password"],["auth","session","login"],["auth","session","logout"],["auth","session","all"],["auth","session",["{id}"]],["auth","mfa","ticket"],["auth","mfa",""],["auth","mfa","recovery"],["auth","mfa","methods"],["auth","mfa","totp"],["sync","settings","fetch"],["sync","settings","set"]],4:[["channels",["{target}"],"ack",["{message}"]],["channels",["{_target}"],"messages","stale"],["channels",["{target}"],"messages",["{msg}"]],["channels",["{target}"],"messages","bulk"],["channels",["{target}"],"recipients",["{member}"]],["channels",["{target}"],"permissions",["{role_id}"]],["channels",["{target}"],"permissions","default"],["servers",["{target}"],"members",["{member}"]],["servers",["{server}"],"members",["{target}"]],["servers",["{server}"],"bans",["{target}"]],["servers",["{target}"],"roles",["{role_id}"]],["servers",["{target}"],"permissions",["{role_id}"]],["servers",["{target}"],"permissions","default"],["auth","account","change","password"],["auth","account","change","email"],["auth","account","verify",["{code}"]]],5:[["channels",["{target}"],"messages",["{msg}"],"reactions"]],6:[["channels",["{target}"],"messages",["{msg}"],"reactions",["{emoji}"]]]},Uh={"/":{get:[]},"/users/@me":{get:[],patch:[]},"/users/{target}":{get:[]},"/users/@me/username":{patch:[]},"/users/{target}/default_avatar":{get:[]},"/users/{target}/profile":{get:[]},"/users/dms":{get:[]},"/users/{target}/dm":{get:[]},"/users/{target}/mutual":{get:[]},"/users/{target}/friend":{put:[],delete:[]},"/users/{target}/block":{put:[],delete:[]},"/users/friend":{post:[]},"/bots/create":{post:[]},"/bots/{target}/invite":{get:[],post:[]},"/bots/{target}":{get:[],delete:[],patch:[]},"/bots/@me":{get:[]},"/channels/{target}/ack/{message}":{put:[]},"/channels/{target}":{get:[],delete:["leave_silently"],patch:[]},"/channels/{target}/members":{get:[]},"/channels/{target}/invites":{post:[]},"/channels/{target}/messages":{get:["limit","before","after","sort","nearby","include_users"],post:[]},"/channels/{target}/search":{post:[]},"/channels/{_target}/messages/stale":{post:[]},"/channels/{target}/messages/{msg}":{get:[],delete:[],patch:[]},"/channels/{target}/messages/bulk":{delete:[]},"/channels/create":{post:[]},"/channels/{target}/recipients/{member}":{put:[],delete:[]},"/channels/{target}/join_call":{post:[]},"/channels/{target}/permissions/{role_id}":{put:[]},"/channels/{target}/permissions/default":{put:[]},"/channels/{target}/messages/{msg}/reactions/{emoji}":{put:[],delete:["user_id","remove_all"]},"/channels/{target}/messages/{msg}/reactions":{delete:[]},"/servers/create":{post:[]},"/servers/{target}":{get:[],delete:["leave_silently"],patch:[]},"/servers/{target}/ack":{put:[]},"/servers/{target}/channels":{post:[]},"/servers/{target}/members":{get:["exclude_offline"]},"/servers/{target}/members/{member}":{get:[],delete:[]},"/servers/{server}/members/{target}":{patch:[]},"/servers/{server}/bans/{target}":{put:[],delete:[]},"/servers/{target}/bans":{get:[]},"/servers/{target}/invites":{get:[]},"/servers/{target}/roles":{post:[]},"/servers/{target}/roles/{role_id}":{delete:[],patch:[]},"/servers/{target}/permissions/{role_id}":{put:[]},"/servers/{target}/permissions/default":{put:[]},"/servers/{target}/emojis":{get:[]},"/invites/{target}":{get:[],post:[],delete:[]},"/custom/emoji/{id}":{get:[],put:[],delete:[]},"/auth/account/create":{post:[]},"/auth/account/reverify":{post:[]},"/auth/account/delete":{put:[],post:[]},"/auth/account/":{get:[]},"/auth/account/disable":{post:[]},"/auth/account/change/password":{patch:[]},"/auth/account/change/email":{patch:[]},"/auth/account/verify/{code}":{post:[]},"/auth/account/reset_password":{post:[],patch:[]},"/auth/session/login":{post:[]},"/auth/session/logout":{post:[]},"/auth/session/all":{get:[],delete:["revoke_self"]},"/auth/session/{id}":{delete:[],patch:[]},"/auth/mfa/ticket":{put:[]},"/auth/mfa/":{get:[]},"/auth/mfa/recovery":{post:[],patch:[]},"/auth/mfa/methods":{get:[]},"/auth/mfa/totp":{put:[],post:[],delete:[]},"/onboard/hello":{get:[]},"/onboard/complete":{post:[]},"/push/subscribe":{post:[]},"/push/unsubscribe":{post:[]},"/sync/settings/fetch":{post:[]},"/sync/settings/set":{post:["timestamp"]},"/sync/unreads":{get:[]}};function Dh(t){const e=t.split("/"),n=Ph[(e.length-1).toString()]||[];for(const r of n){let i=1,s=[...e];for(i;i<e.length;i++)if(Array.isArray(r[i-1])){s[i]=r[i-1];continue}else if(r[i-1]!==e[i])break;if(i===e.length)return s.join("/")}}class Wa{constructor({baseURL:e,authentication:n}={}){Is(this,"baseURL");Is(this,"authentication");this.baseURL=e||Nh,this.authentication=n||{}}get auth(){if(this.authentication.rauth){if(typeof this.authentication.rauth=="string")return{headers:{"X-Session-Token":this.authentication.rauth}}}else if(this.authentication.revolt)switch(typeof this.authentication.revolt){case"string":return{headers:{"X-Bot-Token":this.authentication.revolt}};case"object":return{headers:{"X-Session-Token":this.authentication.revolt.token}}}return{}}get config(){return{baseURL:this.baseURL,...this.auth}}req(e,n,r,i){let s,o,a=Dh(n);if(a&&typeof r=="object"){const l=Uh[a][e];for(const u of Object.keys(r))l!=null&&l.includes(u)?s={...s||{},[u]:r[u]}:o={...o||{},[u]:r[u]}}return Lh(n,Cn({method:e,params:s,data:o},Cn(i,this.config))).then(f=>f.data)}get(e,n,r){return this.req("get",e,n,r)}patch(e,n,r){return this.req("patch",e,n,r)}put(e,n,r){return this.req("put",e,n,r)}delete(e,n,r){return this.req("delete",e,n,r)}post(e,n,r){return this.req("post",e,n,r)}}var Ut=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function f(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,f)}l((r=r.apply(t,e||[])).next())})};class Fh{constructor(e){this.client=e}fetch(e){return Ut(this,void 0,void 0,function*(){const{bot:n,user:r}=yield this.client.api.get(`/bots/${e}`);return{bot:n,user:yield this.client.users.fetch(r._id,r)}})}delete(e){return Ut(this,void 0,void 0,function*(){yield this.client.api.delete(`/bots/${e}`)})}fetchPublic(e){return Ut(this,void 0,void 0,function*(){return yield this.client.api.get(`/bots/${e}/invite`)})}invite(e,n){return Ut(this,void 0,void 0,function*(){return yield this.client.api.post(`/bots/${e}/invite`,n)})}fetchOwned(){return Ut(this,void 0,void 0,function*(){const{bots:e,users:n}=yield this.client.api.get("/bots/@me"),r=[];for(const i of n)r.push(yield this.client.users.fetch(i._id,i));return{bots:e,users:r}})}edit(e,n){return Ut(this,void 0,void 0,function*(){if(yield this.client.api.patch(`/bots/${e}`,n),n.name){const r=this.client.users.get(e);r&&H(()=>{r.username=n.name})}})}create(e){return Ut(this,void 0,void 0,function*(){const n=yield this.client.api.post("/bots/create",e),r=yield this.client.users.fetch(n._id,{_id:n._id,username:e.name,bot:{owner:this.client.user._id}});return{bot:n,user:r}})}}const Ih={delayFirstAttempt:!1,jitter:"none",maxDelay:1/0,numOfAttempts:10,retry:()=>!0,startingDelay:100,timeMultiple:2};function Bh(t){const e=Object.assign(Object.assign({},Ih),t);return e.numOfAttempts<1&&(e.numOfAttempts=1),e}function qh(t){const e=Math.random()*t;return Math.round(e)}function Vh(t){return t}function Gh(t){switch(t.jitter){case"full":return qh;case"none":default:return Vh}}class Rl{constructor(e){this.options=e,this.attempt=0}apply(){return new Promise(e=>setTimeout(e,this.jitteredDelay))}setAttemptNumber(e){this.attempt=e}get jitteredDelay(){return Gh(this.options)(this.delay)}get delay(){const e=this.options.startingDelay,n=this.options.timeMultiple,r=this.numOfDelayedAttempts,i=e*Math.pow(n,r);return Math.min(i,this.options.maxDelay)}get numOfDelayedAttempts(){return this.attempt}}var Kh=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function f(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,f)}l((r=r.apply(t,e||[])).next())})};class zh extends Rl{apply(){const e=Object.create(null,{apply:{get:()=>super.apply}});return Kh(this,void 0,void 0,function*(){return this.isFirstAttempt?!0:e.apply.call(this)})}get isFirstAttempt(){return this.attempt===0}get numOfDelayedAttempts(){return this.attempt-1}}class Hh extends Rl{}function Wh(t,e){const n=kh(t);return n.setAttemptNumber(e),n}function kh(t){return t.delayFirstAttempt?new Hh(t):new zh(t)}var Lo=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function f(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,f)}l((r=r.apply(t,e||[])).next())})};function Jh(t,e={}){return Lo(this,void 0,void 0,function*(){const n=Bh(e);return yield new Xh(t,n).execute()})}class Xh{constructor(e,n){this.request=e,this.options=n,this.attemptNumber=0}execute(){return Lo(this,void 0,void 0,function*(){for(;!this.attemptLimitReached;)try{return yield this.applyDelay(),yield this.request()}catch(e){if(this.attemptNumber++,!(yield this.options.retry(e,this.attemptNumber))||this.attemptLimitReached)throw e}throw new Error("Something went wrong.")})}get attemptLimitReached(){return this.attemptNumber>=this.options.numOfAttempts}applyDelay(){return Lo(this,void 0,void 0,function*(){yield Wh(this.options,this.attemptNumber).apply()})}}var pn=null;typeof WebSocket<"u"?pn=WebSocket:typeof MozWebSocket<"u"?pn=MozWebSocket:typeof global<"u"?pn=global.WebSocket||global.MozWebSocket:typeof window<"u"?pn=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(pn=self.WebSocket||self.MozWebSocket);const co=pn;var fn=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function f(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,f)}l((r=r.apply(t,e||[])).next())})},Zh=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class Yh{constructor(e){this.client=e,this.connected=!1,this.ready=!1}disconnect(){clearInterval(this.heartbeat),this.connected=!1,this.ready=!1,typeof this.ws<"u"&&this.ws.readyState===co.OPEN&&this.ws.close()}send(e){if(typeof this.ws>"u"||this.ws.readyState!==co.OPEN)return;const n=JSON.stringify(e);this.client.debug&&console.debug("[<] PACKET",n),this.ws.send(n)}connect(e){return this.client.emit("connecting"),new Promise((n,r)=>{let i=!1;const s=h=>{i||(i=!0,r(h))};if(this.disconnect(),typeof this.client.configuration>"u")throw new Error("Attempted to open WebSocket without syncing configuration from server.");if(typeof this.client.session>"u")throw new Error("Attempted to open WebSocket without valid session.");const o=new co(this.client.configuration.ws);this.ws=o,o.onopen=()=>{typeof this.client.session=="string"?this.send({type:"Authenticate",token:this.client.session}):this.send(Object.assign({type:"Authenticate"},this.client.session))};const a=h=>fn(this,void 0,void 0,function*(){var m,A,D,j,k,I,P,T;this.client.emit("packet",h);try{switch(h.type){case"Bulk":{for(const b of h.v)yield a(b);break}case"Error":{s(h.error);break}case"Authenticated":{e=!1,this.client.emit("connected"),this.connected=!0;break}case"Ready":{H(()=>{if(h.type!=="Ready")throw 0;for(const b of h.users)this.client.users.createObj(b);for(const b of h.channels)this.client.channels.createObj(b);for(const b of h.servers)this.client.servers.createObj(b);for(const b of h.members)this.client.members.createObj(b);for(const b of h.emojis)this.client.emojis.createObj(b)}),this.client.user=this.client.users.get(h.users.find(b=>b.relationship==="User")._id),this.client.emit("ready"),this.ready=!0,n(),(m=this.client.unreads)===null||m===void 0||m.sync(),this.client.heartbeat>0&&(this.send({type:"Ping",data:+new Date}),this.heartbeat=setInterval(()=>{if(this.send({type:"Ping",data:+new Date}),this.client.options.pongTimeout){let b=!1;this.client.once("packet",C=>{C.type=="Pong"&&(b=!0)}),setTimeout(()=>{if(!b){if(this.client.options.onPongTimeout=="EXIT")throw"Client did not receive a pong in time";console.warn("Warning: Client did not receive a pong in time; Reconnecting."),this.disconnect(),this.connect(e)}},this.client.options.pongTimeout*1e3)}},this.client.heartbeat*1e3));break}case"Message":{if(!this.client.messages.has(h._id)){if(h.author==="00000000000000000000000000"){if(h.system)switch(h.system.type){case"user_added":case"user_remove":yield this.client.users.fetch(h.system.by);break;case"user_joined":yield this.client.users.fetch(h.system.id);break;case"channel_description_changed":case"channel_icon_changed":case"channel_renamed":yield this.client.users.fetch(h.system.by);break}}else yield this.client.users.fetch(h.author);const b=yield this.client.channels.fetch(h.channel);if(b.channel_type==="TextChannel"){const ne=yield this.client.servers.fetch(b.server_id);h.author!=="00000000000000000000000000"&&(yield ne.fetchMember(h.author))}const C=this.client.messages.createObj(h,!0);H(()=>{var ne;b.channel_type==="DirectMessage"&&(b.active=!0),b.last_message_id=C._id,this.client.unreads&&(!((ne=C.mention_ids)===null||ne===void 0)&&ne.includes(this.client.user._id))&&this.client.unreads.markMention(C.channel_id,C._id)})}break}case"MessageUpdate":{const b=this.client.messages.get(h.id);b&&(b.update(h.data),this.client.emit("message/update",b),this.client.emit("message/updated",b,h));break}case"MessageAppend":{const b=this.client.messages.get(h.id);b&&(b.append(h.append),this.client.emit("message/append",b),this.client.emit("message/updated",b,h));break}case"MessageDelete":{const b=this.client.messages.get(h.id);this.client.messages.delete(h.id),this.client.emit("message/delete",h.id,b);break}case"MessageReact":{const b=this.client.messages.get(h.id);b&&(b.reactions.has(h.emoji_id)?b.reactions.get(h.emoji_id).add(h.user_id):b.reactions.set(h.emoji_id,new Di([h.user_id])),this.client.emit("message/updated",b,h));break}case"MessageUnreact":{const b=this.client.messages.get(h.id);if(b){const C=b.reactions.get(h.emoji_id);C&&(C.delete(h.user_id),C.size===0&&b.reactions.delete(h.emoji_id)),this.client.emit("message/updated",b,h)}break}case"MessageRemoveReaction":{const b=this.client.messages.get(h.id);b&&(b.reactions.delete(h.emoji_id),this.client.emit("message/updated",b,h));break}case"BulkMessageDelete":{H(()=>{for(const b of h.ids){const C=this.client.messages.get(b);this.client.messages.delete(b),this.client.emit("message/delete",b,C)}});break}case"ChannelCreate":{H(()=>fn(this,void 0,void 0,function*(){if(h.type!=="ChannelCreate")throw 0;(h.channel_type==="TextChannel"||h.channel_type==="VoiceChannel")&&(yield this.client.servers.fetch(h.server)).channel_ids.push(h._id),this.client.channels.createObj(h,!0)}));break}case"ChannelUpdate":{const b=this.client.channels.get(h.id);b&&(b.update(h.data,h.clear),this.client.emit("channel/update",b));break}case"ChannelDelete":{const b=this.client.channels.get(h.id);b==null||b.delete(!1,!0),this.client.emit("channel/delete",h.id,b);break}case"ChannelGroupJoin":{(A=this.client.channels.get(h.id))===null||A===void 0||A.updateGroupJoin(h.user);break}case"ChannelGroupLeave":{const b=this.client.channels.get(h.id);b&&(h.user===((D=this.client.user)===null||D===void 0?void 0:D._id)?b.delete(!1,!0):b.updateGroupLeave(h.user));break}case"ServerCreate":{H(()=>fn(this,void 0,void 0,function*(){const b=[];for(const C of h.channels)b.push(yield this.client.channels.fetch(C._id,C));yield this.client.servers.fetch(h.id,h.server)}));break}case"ServerUpdate":{const b=this.client.servers.get(h.id);b&&(b.update(h.data,h.clear),this.client.emit("server/update",b));break}case"ServerDelete":{const b=this.client.servers.get(h.id);b==null||b.delete(!1,!0),this.client.emit("server/delete",h.id,b);break}case"ServerMemberUpdate":{const b=this.client.members.getKey(h.id);b&&(b.update(h.data,h.clear),this.client.emit("member/update",b));break}case"ServerMemberJoin":{H(()=>fn(this,void 0,void 0,function*(){yield this.client.servers.fetch(h.id),yield this.client.users.fetch(h.user),this.client.members.createObj({_id:{server:h.id,user:h.user},joined_at:new Date().toISOString()},!0)}));break}case"ServerMemberLeave":{if(h.user===this.client.user._id){const b=h.id;H(()=>{var C;(C=this.client.servers.get(b))===null||C===void 0||C.delete(!1,!0),[...this.client.members.keys()].forEach(ne=>{JSON.parse(ne).server===b&&this.client.members.delete(ne)})})}else this.client.members.deleteKey({server:h.id,user:h.user}),this.client.emit("member/leave",{server:h.id,user:h.user});break}case"ServerRoleUpdate":{const b=this.client.servers.get(h.id);if(b){const C=Object.assign(Object.assign({},(j=b.roles)===null||j===void 0?void 0:j[h.role_id]),h.data);b.roles=Object.assign(Object.assign({},b.roles),{[h.role_id]:C}),this.client.emit("role/update",h.role_id,C,h.id)}break}case"ServerRoleDelete":{const b=this.client.servers.get(h.id);if(b){const C=(k=b.roles)!==null&&k!==void 0?k:{},ne=h.role_id,xt=C[ne],vt=Zh(C,[typeof ne=="symbol"?ne:ne+""]);b.roles=vt,this.client.emit("role/delete",h.role_id,h.id)}break}case"UserUpdate":{(I=this.client.users.get(h.id))===null||I===void 0||I.update(h.data,h.clear);break}case"UserRelationship":{const b=this.client.users.get(h.user._id);b?b.update(Object.assign(Object.assign({},h.user),{relationship:h.status})):this.client.users.createObj(h.user);break}case"ChannelStartTyping":{const b=this.client.channels.get(h.id),C=h.user;b&&(b.updateStartTyping(C),clearInterval(f[h.id+C]),f[h.id+C]=setTimeout(()=>{b.updateStopTyping(C)},3e3));break}case"ChannelStopTyping":{(P=this.client.channels.get(h.id))===null||P===void 0||P.updateStopTyping(h.user),clearInterval(f[h.id+h.user]);break}case"ChannelAck":{(T=this.client.unreads)===null||T===void 0||T.markRead(h.id,h.message_id);break}case"EmojiCreate":{this.client.emojis.createObj(h,!0);break}case"EmojiDelete":{const b=this.client.emojis.get(h.id);this.client.emit("emoji/delete",h.id,b);break}case"Pong":{this.ping=+new Date-h.data;break}default:this.client.debug&&console.warn(`Warning: Unhandled packet! ${h.type}`)}}catch(b){console.error(b)}}),f={},l=h=>fn(this,void 0,void 0,function*(){const m=h.data;if(typeof m!="string")return;this.client.debug&&console.debug("[>] PACKET",m);const A=JSON.parse(m);yield a(A)});let u=!1;const d=[];o.onmessage=h=>fn(this,void 0,void 0,function*(){if(d.push(h),!u){for(u=!0;d.length>0;)yield l(d.shift());u=!1}}),o.onerror=h=>{s(h)},o.onclose=()=>{this.client.emit("dropped"),this.connected=!1,this.ready=!1,Object.keys(f).map(h=>f[h]).forEach(clearTimeout),H(()=>{[...this.client.users.values()].forEach(h=>h.online=!1),[...this.client.channels.values()].forEach(h=>h.typing_ids.clear())}),!e&&this.client.autoReconnect&&Jh(()=>this.connect(!0)).catch(s)}})}}const Qh={apiURL:"https://api.revolt.chat",autoReconnect:!0,heartbeat:30,debug:!1,cache:!1,unreads:!1,ackRateLimiter:!0};var Ur=globalThis&&globalThis.__decorate||function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ed=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function f(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,f)}l((r=r.apply(t,e||[])).next())})},td=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class In{constructor(e){this.channels=new $r,this.loaded=!1,Ht(this),this.client=e}sync(){return ed(this,void 0,void 0,function*(){const e=yield this.client.syncFetchUnreads();H(()=>{this.loaded=!0;for(const n of e){const{_id:r}=n,i=td(n,["_id"]);this.channels.set(r.channel,i)}})})}getUnread(e){return this.loaded?this.channels.get(e):{last_id:"40000000000000000000000000"}}markUnread(e,n){this.channels.set(e,Object.assign(Object.assign({},this.getUnread(e)),{last_id:n}))}markMention(e,n){var r;const i=this.getUnread(e);this.channels.set(e,Object.assign(Object.assign({last_id:"0"},i),{mentions:[...(r=i==null?void 0:i.mentions)!==null&&r!==void 0?r:[],n]}))}markRead(e,n,r=!1,i=!1){var s;const o=n??Si();this.channels.set(e,{last_id:o}),r&&((s=this.client.channels.get(e))===null||s===void 0||s.ack(o,i))}markMultipleRead(e){const n=Si();for(const r of e)this.channels.set(r,{last_id:n})}}Ur([K],In.prototype,"getUnread",null);Ur([ee],In.prototype,"markUnread",null);Ur([ee],In.prototype,"markMention",null);Ur([ee],In.prototype,"markRead",null);Ur([ee],In.prototype,"markMultipleRead",null);var ge=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function f(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,f)}l((r=r.apply(t,e||[])).next())})};const nd=/<@([A-z0-9]{26})>/g,rd=/!!.+!!/g;class id extends xo{constructor(e={}){if(super(),this.user=null,this.users=new Ro(this),this.channels=new Eo(this),this.servers=new jo(this),this.members=new At(this),this.messages=new To(this),this.bots=new Fh(this),this.emojis=new Oa(this),uf(this,{user:re,users:re,channels:re,servers:re,members:re,messages:re,emojis:re,reset:ee},{proxy:!1}),this.options=Cn(e,Qh),this.options.cache)throw"Cache is not supported yet.";this.options.unreads&&(this.unreads=new In(this)),this.api=new Wa({baseURL:this.apiURL}),this.websocket=new Yh(this),this.heartbeat=this.options.heartbeat,this.proxyFile=this.proxyFile.bind(this)}get apiURL(){return this.options.apiURL}get debug(){return this.options.debug}get autoReconnect(){return this.options.autoReconnect}connect(){return ge(this,void 0,void 0,function*(){this.configuration=yield this.api.get("/")})}fetchConfiguration(){return ge(this,void 0,void 0,function*(){this.configuration||(yield this.connect())})}$updateHeaders(){this.api=new Wa({baseURL:this.apiURL,authentication:{revolt:this.session}})}login(e){return ge(this,void 0,void 0,function*(){yield this.fetchConfiguration();const n=yield this.api.post("/auth/session/login",e);if(n.result==="Success")return this.session=n,yield this.$connect();throw"MFA not implemented!"})}useExistingSession(e){return ge(this,void 0,void 0,function*(){return yield this.fetchConfiguration(),this.session=e,yield this.$connect()})}loginBot(e){return ge(this,void 0,void 0,function*(){return yield this.fetchConfiguration(),this.session=e,this.$updateHeaders(),yield this.websocket.connect()})}$connect(){return ge(this,void 0,void 0,function*(){this.$updateHeaders();const{onboarding:e}=yield this.api.get("/onboard/hello");if(e)return(n,r)=>this.completeOnboarding({username:n},r);yield this.websocket.connect()})}completeOnboarding(e,n){return ge(this,void 0,void 0,function*(){yield this.api.post("/onboard/complete",e),n&&(yield this.websocket.connect())})}fetchInvite(e){return ge(this,void 0,void 0,function*(){return yield this.api.get(`/invites/${e}`)})}joinInvite(e){return ge(this,void 0,void 0,function*(){const n=typeof e=="string"?e:e.code;if(typeof e=="object")switch(e.type){case"Group":{const i=this.channels.get(e.channel_id);if(i)return i;break}case"Server":{const i=this.servers.get(e.server_id);if(i)return i}}const r=yield this.api.post(`/invites/${n}`);if(r.type==="Server")return yield this.servers.fetch(r.server._id,r.server,r.channels);throw"Unsupported invite type."})}deleteInvite(e){return ge(this,void 0,void 0,function*(){yield this.api.delete(`/invites/${e}`)})}syncFetchSettings(e){return ge(this,void 0,void 0,function*(){return yield this.api.post("/sync/settings/fetch",{keys:e})})}syncSetSettings(e,n){return ge(this,void 0,void 0,function*(){const r={};for(const i of Object.keys(e)){const s=e[i];r[i]=typeof s=="string"?s:JSON.stringify(s)}yield this.api.post("/sync/settings/set",Object.assign(Object.assign({},r),{timestamp:n}))})}syncFetchUnreads(){return ge(this,void 0,void 0,function*(){return yield this.api.get("/sync/unreads")})}logout(e){return ge(this,void 0,void 0,function*(){this.user=null,this.emit("logout"),!e&&(yield this.api.post("/auth/session/logout")),this.reset()})}reset(){this.user=null,this.websocket.disconnect(),delete this.session,this.users=new Ro(this),this.channels=new Eo(this),this.servers=new jo(this),this.members=new At(this),this.messages=new To(this),this.emojis=new Oa(this)}register(e){return this.api.post("/auth/account/create",e)}markdownToText(e){return e.replace(nd,(n,r)=>{const i=this.users.get(r);return i?`@${i.username}`:n}).replace(rd,"<spoiler>")}proxyFile(e){var n;if(!((n=this.configuration)===null||n===void 0)&&n.features.january.enabled)return`${this.configuration.features.january.url}/proxy?url=${encodeURIComponent(e)}`}generateFileURL(e,...n){var r;const[i,s,o]=n,a=(r=this.configuration)===null||r===void 0?void 0:r.features.autumn;if(!(a!=null&&a.enabled)||!e)return o;const{tag:f,_id:l,content_type:u,metadata:d}=e;if((d==null?void 0:d.type)==="Image"&&(Math.min(d.width,d.height)<=0||u==="image/gif"&&Math.max(d.width,d.height)>=1024))return o;let h="";return i&&(!s||u!=="image/gif")&&(h="?"+Object.keys(i).map(m=>`${m}=${i[m]}`).join("&")),`${a.url}/${f}/${l}${h}`}}const zi=new id,hn=[];function Bn(t,e=F){let n;const r=new Set;function i(a){if(Kt(t,a)&&(t=a,n)){const f=!hn.length;for(const l of r)l[1](),hn.push(l,t);if(f){for(let l=0;l<hn.length;l+=2)hn[l][0](hn[l+1]);hn.length=0}}}function s(a){i(a(t))}function o(a,f=F){const l=[a,f];return r.add(l),r.size===1&&(n=e(i)||F),a(t),()=>{r.delete(l),r.size===0&&(n(),n=null)}}return{set:i,update:s,subscribe:o}}const ka=Bn(""),Ja=Bn(""),No=Bn(!1);function sd(t){let e,n,r,i,s,o,a,f,l,u,d,h;return{c(){e=Y("form"),n=Y("h2"),n.textContent="Email",r=me(),i=Y("input"),s=me(),o=Y("h2"),o.textContent="Password",a=me(),f=Y("input"),l=me(),u=Y("button"),u.textContent="Login",Bt(u,"type","submit")},m(m,A){Z(m,e,A),z(e,n),z(e,r),z(e,i),si(i,t[1]),z(e,s),z(e,o),z(e,a),z(e,f),si(f,t[0]),z(e,l),z(e,u),d||(h=[St(i,"input",t[3]),St(f,"input",t[4]),St(e,"submit",Nl(t[5]))],d=!0)},p(m,[A]){A&2&&i.value!==m[1]&&si(i,m[1]),A&1&&f.value!==m[0]&&si(f,m[0])},i:F,o:F,d(m){m&&W(e),d=!1,Gt(h)}}}function od(t,e,n){let r,i;et(t,Ja,l=>n(0,r=l)),et(t,ka,l=>n(1,i=l));async function s(l){try{console.log(i,r),zi.login({email:i,password:r,friendly_name:"SearchR"}).catch(u=>{throw u}).then(()=>{No.set(!0)})}catch(u){console.error("Error while logging in:",u)}}function o(){i=this.value,ka.set(i)}function a(){r=this.value,Ja.set(r)}return[r,i,s,o,a,l=>s()]}class ad extends Nn{constructor(e){super(),Ln(this,e,od,sd,Kt,{})}}const $n=Bn(),Ri=Bn();function Xa(t,e,n){const r=t.slice();return r[3]=e[n],r}function Za(t){let e,n=t[3].name+"",r;return{c(){e=Y("option"),r=Xe(n),e.__value=t[3],e.value=e.__value},m(i,s){Z(i,e,s),z(e,r)},p:F,d(i){i&&W(e)}}}function ud(t){let e,n,r,i,s,o,a=t[1],f=[];for(let l=0;l<a.length;l+=1)f[l]=Za(Xa(t,a,l));return{c(){e=Y("form"),n=Y("label"),n.textContent="Select a server:",r=me(),i=Y("select");for(let l=0;l<f.length;l+=1)f[l].c();Bt(n,"for","serverlist"),Bt(i,"name","serverlist"),t[0]===void 0&&wn(()=>t[2].call(i))},m(l,u){Z(l,e,u),z(e,n),z(e,r),z(e,i);for(let d=0;d<f.length;d+=1)f[d].m(i,null);yn(i,t[0]),s||(o=St(i,"change",t[2]),s=!0)},p(l,[u]){if(u&2){a=l[1];let d;for(d=0;d<a.length;d+=1){const h=Xa(l,a,d);f[d]?f[d].p(h,u):(f[d]=Za(h),f[d].c(),f[d].m(i,null))}for(;d<f.length;d+=1)f[d].d(1);f.length=a.length}u&3&&yn(i,l[0])},i:F,o:F,d(l){l&&W(e),Ci(f,l),s=!1,o()}}}function ld(t,e,n){let r;et(t,$n,o=>n(0,r=o));const i=Array.from(zi.servers.values());function s(){r=Po(this),$n.set(r),n(1,i)}return[r,i,s]}class cd extends Nn{constructor(e){super(),Ln(this,e,ld,ud,Kt,{})}}function Ya(t,e,n){const r=t.slice();return r[3]=e[n],r}function Qa(t){let e,n=t[3].name+"",r,i;return{c(){e=Y("option"),r=Xe(n),e.__value=i=t[3],e.value=e.__value},m(s,o){Z(s,e,o),z(e,r)},p(s,o){o&1&&n!==(n=s[3].name+"")&&fo(r,n),o&1&&i!==(i=s[3])&&(e.__value=i,e.value=e.__value)},d(s){s&&W(e)}}}function eu(t){let e,n=t[3].channel_type==="TextChannel"&&Qa(t);return{c(){n&&n.c(),e=Mn()},m(r,i){n&&n.m(r,i),Z(r,e,i)},p(r,i){r[3].channel_type==="TextChannel"?n?n.p(r,i):(n=Qa(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(r){n&&n.d(r),r&&W(e)}}}function fd(t){let e,n,r,i,s,o,a,f=t[0],l=[];for(let u=0;u<f.length;u+=1)l[u]=eu(Ya(t,f,u));return{c(){e=Y("form"),n=Y("label"),n.textContent="Select a server:",r=me(),i=Y("select"),s=Y("option"),s.textContent="...";for(let u=0;u<l.length;u+=1)l[u].c();Bt(n,"for","serverlist"),s.__value="...",s.value=s.__value,Bt(i,"name","serverlist"),t[1]===void 0&&wn(()=>t[2].call(i))},m(u,d){Z(u,e,d),z(e,n),z(e,r),z(e,i),z(i,s);for(let h=0;h<l.length;h+=1)l[h].m(i,null);yn(i,t[1]),o||(a=St(i,"change",t[2]),o=!0)},p(u,[d]){if(d&1){f=u[0];let h;for(h=0;h<f.length;h+=1){const m=Ya(u,f,h);l[h]?l[h].p(m,d):(l[h]=eu(m),l[h].c(),l[h].m(i,null))}for(;h<l.length;h+=1)l[h].d(1);l.length=f.length}d&3&&yn(i,u[1])},i:F,o:F,d(u){u&&W(e),Ci(l,u),o=!1,a()}}}function hd(t,e,n){let r;et(t,Ri,o=>n(1,r=o));let i;$n.subscribe(o=>{o&&(n(0,i=Array.from(o.channels)),console.log(o))});function s(){r=Po(this),Ri.set(r),n(0,i)}return[i,r,s]}class dd extends Nn{constructor(e){super(),Ln(this,e,hd,fd,Kt,{})}}const xi=Bn("");function tu(t,e,n){const r=t.slice();return r[7]=e[n],r}function pd(t){return{c:F,m:F,p:F,d:F}}function vd(t){let e,n=t[6].users,r=[];for(let i=0;i<n.length;i+=1)r[i]=nu(tu(t,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=Mn()},m(i,s){for(let o=0;o<r.length;o+=1)r[o].m(i,s);Z(i,e,s)},p(i,s){if(s&2){n=i[6].users;let o;for(o=0;o<n.length;o+=1){const a=tu(i,n,o);r[o]?r[o].p(a,s):(r[o]=nu(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(i){Ci(r,i),i&&W(e)}}}function nu(t){let e,n=t[7].username+"",r;return{c(){e=Y("option"),r=Xe(n),e.__value=`<@${t[7]._id}>`,e.value=e.__value},m(i,s){Z(i,e,s),z(e,r)},p:F,d(i){i&&W(e)}}}function _d(t){let e;return{c(){e=Y("option"),e.textContent="Loading...",e.__value="Loading...",e.value=e.__value},m(n,r){Z(n,e,r)},p:F,d(n){n&&W(e)}}}function gd(t){let e,n,r,i,s,o,a,f={ctx:t,current:null,token:null,hasCatch:!1,pending:_d,then:vd,catch:pd,value:6};return po(t[1],f),{c(){e=Y("form"),n=Y("label"),n.textContent="User to search",r=me(),i=Y("select"),s=Y("option"),s.textContent="...",f.block.c(),Bt(n,"for","search"),s.__value="...",s.value=s.__value,Bt(i,"name","search"),t[0]===void 0&&wn(()=>t[3].call(i))},m(l,u){Z(l,e,u),z(e,n),z(e,r),z(e,i),z(i,s),f.block.m(i,f.anchor=null),f.mount=()=>i,f.anchor=null,yn(i,t[0]),o||(a=[St(i,"select",t[2]),St(i,"change",t[3])],o=!0)},p(l,[u]){t=l,lu(f,t,u),u&3&&yn(i,t[0])},i:F,o:F,d(l){l&&W(e),f.block.d(),f.token=null,f=null,o=!1,Gt(a)}}}function md(t,e,n){let r,i;et(t,$n,l=>n(4,r=l)),et(t,xi,l=>n(0,i=l));async function s(){const l=await r.fetchMembers();if(l)return l}let o=s();const a=()=>console.log(i);function f(){i=Po(this),xi.set(i),n(1,o)}return[i,o,a,f]}class bd extends Nn{constructor(e){super(),Ln(this,e,md,gd,Kt,{})}}function ru(t,e,n){const r=t.slice();return r[5]=e[n],r[7]=n,r}function yd(t){let e;return{c(){e=Y("p"),e.textContent="Select a user"},m(n,r){Z(n,e,r)},p:F,d(n){n&&W(e)}}}function wd(t){let e,n,r={ctx:t,current:null,token:null,hasCatch:!1,pending:Sd,then:Ad,catch:Od,value:4};return po(n=t[0],r),{c(){e=Mn(),r.block.c()},m(i,s){Z(i,e,s),r.block.m(i,r.anchor=s),r.mount=()=>e.parentNode,r.anchor=e},p(i,s){t=i,r.ctx=t,s&1&&n!==(n=t[0])&&po(n,r)||lu(r,t,s)},d(i){i&&W(e),r.block.d(i),r.token=null,r=null}}}function Od(t){return{c:F,m:F,p:F,d:F}}function Ad(t){let e,n=t[4],r=[];for(let i=0;i<n.length;i+=1)r[i]=iu(ru(t,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=Mn()},m(i,s){for(let o=0;o<r.length;o+=1)r[o].m(i,s);Z(i,e,s)},p(i,s){if(s&1){n=i[4];let o;for(o=0;o<n.length;o+=1){const a=ru(i,n,o);r[o]?r[o].p(a,s):(r[o]=iu(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(i){Ci(r,i),i&&W(e)}}}function iu(t){let e,n,r,i=t[5].username+"",s,o,a=t[5].content+"",f;return{c(){e=Y("p"),n=Xe(t[7]),r=Xe(" | "),s=Xe(i),o=Xe(": "),f=Xe(a)},m(l,u){Z(l,e,u),z(e,n),z(e,r),z(e,s),z(e,o),z(e,f)},p(l,u){u&1&&i!==(i=l[5].username+"")&&fo(s,i),u&1&&a!==(a=l[5].content+"")&&fo(f,a)},d(l){l&&W(e)}}}function Sd(t){return{c:F,m:F,p:F,d:F}}function Ed(t){let e;function n(s,o){return s[1]?wd:yd}let r=n(t),i=r(t);return{c(){i.c(),e=Mn()},m(s,o){i.m(s,o),Z(s,e,o)},p(s,[o]){r===(r=n(s))&&i?i.p(s,o):(i.d(1),i=r(s),i&&(i.c(),i.m(e.parentNode,e)))},i:F,o:F,d(s){i.d(s),s&&W(e)}}}function Td(t,e,n){let r,i;et(t,xi,a=>n(1,r=a)),et(t,Ri,a=>n(2,i=a));async function s(){const a=await i.search({query:r,sort:"Relevance",limit:50});if(a)return a}let o;return xi.subscribe(a=>{n(0,o=s())}),[o,r]}class jd extends Nn{constructor(e){super(),Ln(this,e,Td,Ed,Kt,{})}}function Rd(t){let e,n,r,i,s,o,a,f,l,u;r=new cd({});let d=t[1]&&su(),h=t[2]&&ou();return{c(){var m;e=Y("p"),e.textContent=`Hello, ${(m=zi.user)==null?void 0:m.username}!`,n=me(),vr(r.$$.fragment),i=me(),d&&d.c(),s=me(),h&&h.c(),o=me(),a=Y("button"),a.textContent="Logout"},m(m,A){Z(m,e,A),Z(m,n,A),On(r,m,A),Z(m,i,A),d&&d.m(m,A),Z(m,s,A),h&&h.m(m,A),Z(m,o,A),Z(m,a,A),f=!0,l||(u=St(a,"click",t[3]),l=!0)},p(m,A){m[1]?d?A&2&&de(d,1):(d=su(),d.c(),de(d,1),d.m(s.parentNode,s)):d&&(pi(),xe(d,1,1,()=>{d=null}),vi()),m[2]?h?A&4&&de(h,1):(h=ou(),h.c(),de(h,1),h.m(o.parentNode,o)):h&&(pi(),xe(h,1,1,()=>{h=null}),vi())},i(m){f||(de(r.$$.fragment,m),de(d),de(h),f=!0)},o(m){xe(r.$$.fragment,m),xe(d),xe(h),f=!1},d(m){m&&W(e),m&&W(n),An(r,m),m&&W(i),d&&d.d(m),m&&W(s),h&&h.d(m),m&&W(o),m&&W(a),l=!1,u()}}}function xd(t){let e,n;return e=new ad({}),{c(){vr(e.$$.fragment)},m(r,i){On(e,r,i),n=!0},p:F,i(r){n||(de(e.$$.fragment,r),n=!0)},o(r){xe(e.$$.fragment,r),n=!1},d(r){An(e,r)}}}function su(t){let e,n;return e=new dd({}),{c(){vr(e.$$.fragment)},m(r,i){On(e,r,i),n=!0},i(r){n||(de(e.$$.fragment,r),n=!0)},o(r){xe(e.$$.fragment,r),n=!1},d(r){An(e,r)}}}function ou(t){let e,n,r,i;return e=new bd({}),r=new jd({}),{c(){vr(e.$$.fragment),n=me(),vr(r.$$.fragment)},m(s,o){On(e,s,o),Z(s,n,o),On(r,s,o),i=!0},i(s){i||(de(e.$$.fragment,s),de(r.$$.fragment,s),i=!0)},o(s){xe(e.$$.fragment,s),xe(r.$$.fragment,s),i=!1},d(s){An(e,s),s&&W(n),An(r,s)}}}function Cd(t){let e,n,r,i,s,o,a,f;const l=[xd,Rd],u=[];function d(h,m){return h[0]?h[0]?1:-1:0}return~(s=d(t))&&(o=u[s]=l[s](t)),{c(){e=Y("h1"),e.textContent="SearchR",n=me(),r=Y("p"),r.textContent="Search Revolt Mentions with ease",i=me(),o&&o.c(),a=Mn()},m(h,m){Z(h,e,m),Z(h,n,m),Z(h,r,m),Z(h,i,m),~s&&u[s].m(h,m),Z(h,a,m),f=!0},p(h,[m]){let A=s;s=d(h),s===A?~s&&u[s].p(h,m):(o&&(pi(),xe(u[A],1,1,()=>{u[A]=null}),vi()),~s?(o=u[s],o?o.p(h,m):(o=u[s]=l[s](h),o.c()),de(o,1),o.m(a.parentNode,a)):o=null)},i(h){f||(de(o),f=!0)},o(h){xe(o),f=!1},d(h){h&&W(e),h&&W(n),h&&W(r),h&&W(i),~s&&u[s].d(h),h&&W(a)}}}function $d(t,e,n){let r,i;et(t,$n,a=>n(1,r=a)),et(t,Ri,a=>n(2,i=a));let s;No.subscribe(a=>{n(0,s=a)}),$n.subscribe(a=>{console.log(a)});function o(){s&&zi.logout().then(()=>{No.set(!1)})}return[s,r,i,o]}class Md extends Nn{constructor(e){super(),Ln(this,e,$d,Cd,Kt,{})}}new Md({target:document.getElementById("app")});
